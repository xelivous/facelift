// ==UserScript==
// @name            Faceraper2013
// @namespace       com.facepunch.facelift2013
// @updateURL       https://github.com/xelivous/facelift/raw/master/faceraper2013.user.js
// @downloadURL     https://github.com/xelivous/facelift/raw/master/faceraper2013.user.js
// @description     365 pounds in stone
// @include         /.*facepunch\.com/.*/
// @license         WTFPL; http://sam.zoy.org/wtfpl/
// @grant           none
// @version         1.2.9
// ==/UserScript==

// user definable settings, their defaults, and helper methods
function FR_CFG_CREATE() {
    
    //wrapping witchcraft
   return {
        
        //a list of icons to reuse
        'ICONS':{
            'silk_information': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKcSURBVDjLpZPLa9RXHMU/d0ysZEwmMQqZiTaP0agoaKGJUiwIxU0hUjtUQaIuXHSVbRVc+R8ICj5WvrCldJquhVqalIbOohuZxjDVxDSP0RgzyST9zdzvvffrQkh8tBs9yy9fPhw45xhV5X1U8+Yhc3U0LcEdVxdOVq20OA0ooQjhpnfhzuDZTx6++m9edfDFlZGMtXKxI6HJnrZGGtauAWAhcgwVnnB/enkGo/25859l3wIcvpzP2EhuHNpWF9/dWs/UnKW4EOGDkqhbQyqxjsKzMgM/P1ymhlO5C4ezK4DeS/c7RdzQoa3x1PaWenJjJZwT9rQ1gSp/js1jYoZdyfX8M1/mp7uFaTR8mrt29FEMQILr62jQ1I5kA8OF59jIItVA78dJertTiBNs1ZKfLNG+MUHX1oaURtIHEAOw3p/Y197MWHEJEUGCxwfHj8MTZIcnsGKxzrIURYzPLnJgbxvG2hMrKdjItjbV11CYKeG8R7ygIdB3sBMFhkem0RAAQ3Fuka7UZtRHrasOqhYNilOwrkrwnhCU/ON5/q04vHV48ThxOCuoAbxnBQB+am65QnO8FqMxNCjBe14mpHhxBBGCWBLxD3iyWMaYMLUKsO7WYH6Stk1xCAGccmR/Ozs/bKJuXS39R/YgIjgROloSDA39Deit1SZWotsjD8pfp5ONqZ6uTfyWn+T7X0f59t5fqDhUA4ry0fYtjJcWeZQvTBu4/VqRuk9/l9Fy5cbnX+6Od26s58HjWWaflwkusKGxjm1bmhkvLXHvh1+WMbWncgPfZN+qcvex6xnUXkzvSiYP7EvTvH4toDxdqDD4+ygT+cKMMbH+3MCZ7H9uAaDnqytpVX8cDScJlRY0YIwpAjcNcuePgXP/P6Z30QuoP4J7WbYhuQAAAABJRU5ErkJggg==',
            'silk_bomb': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKrSURBVDjLZZPPTxNREMe/265tbbEEkmpD6wGCGolwkYh6gIZwa28evHrTGMPFxL+AmxqT3ogxejDePGhQYxqh8VC1tCZSBVLFCsovgdKW/u7ue85s3BV1ksm8fW++n5n3YxUpJUzTclE7hTa1e7xozsnXSqcyLPNiWrkkdTwl18mbB8KyxuuKCSDxAIWX5IuQYp7iY0DEbSvXz0PHNRIFyJNCx2lHRIbMAvsBNykMQcqz1YYsNFvC3W6b98RnN6qhwPODantIEYV1aLXFNwR6IDTE3BdlzoY/Ni+EPDO3VNPvvdB8qSWPp6kcxXDPglvtHFWUZhvs9SOwVX3nRAsOFrPIApDoUL7YcJ7qcbm21r/g2fRHTL/NQVTWIUqrQJm2vFeDbLSwlnde3buv+C3AxMTE4LfvWzfuPtlEqaLB3daBRCKBzOZx3H53BfXCZ1T2XqEhFpEsHsaFyRNy6ObJoAVoNpuRrq6uwPu5r7j1aBvZpVUUi0Wsra3B71zBww+jmP3RjTvpAWwXVBzrDvZVq9UIa9XfAONUfT4fYrEYaBFjY2Pwer2Y27ChXPZi5afEwoYbiVwHnE6npTEA9Xq9XwgBv9+PcDgMHrdaLVQqFcNpHZ/yHjQaDWiaZgBovd8CcFKhUKBKZUOs67oBYEGtVjMA7FTVAPAcRwtAExkCjLCAE3mRISzgb57nMbvNZkOpVOKcjAWgynGHwzGiKIrRDVdnCEcWmZGhLpcLOzs7PI5bt0AnPpXNZvn5GlvgFvkg/23fbrcbbedyOXp0YsoCzMzMpEgQTSaTJW5RVVUDZFZn48oMSKfTJaoeJWjqr3+Brbe39zIJxoPBYJ/H4zH2a97G7u4ulpeXuXKUwJP//UymBQKBQTq0CJ1BiCoZ10ueIY9T7hSJU/vzfwHG+eOypzQIsAAAAABJRU5ErkJggg==',
            'silk_world': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAMtSURBVDjLVZNLa1xlAIafc5szk8xkMkkm5MKY2EpT2qa2MTVCmoLS2gq6EKooimAW7iQb/0I2bgTRIog0oFW7KQpCS7VqrSmmJGlSQtswqWlLLmbGmcmcZM6cy/edz00r6bt8eXh4N6+mlGJnxiZHR4APgSNAFjCBKjClInXm05Gzl3by2mPB2OSoCUwAp1/LHbcziSyO24gbgJAegg2urF8UUsifhZBvfvXK99v/C8YmRy3gt8G2/cMv517E8Wx8ApYcjZiyKbkRSgQkcFn3rzG9Nn1LhOLYt2/8UNUfLZkYaN0zfLRrkLIMCHUNIXTqIoZLjLJvU/ASrFQtnko+z2BH38HAD78DMConHh4FPn5nz6vGgqyxTp16JNj2kpR9C8eD/OoW1VoNO1NCS+d5oW0vV27f2PX11MS8MTR6+JOTXUMHNCPBui5AtdMpk8xsGNQ9ndur20TxCnbPIn5TnmJUwaxIDrTm9Jn7d1tM4EiuqZs5d41iXGefsZsIwYNCgOfVSXconJbLLEWb4CuahU2+6HO8d4DQF/0m0NpgNvLAXaPgu6QadrEZpKhUItJZj/aMS1EewvHnsdUWW/+WKG82kEykCAPRbCqlNE1B4DsocpiW5OJfIVoiyfqSQFdNdGXrpLZGcFZDPKYJg2VQCiGEZkoRlZ3A6W41mknFn2WlaOKFFrG4Tbw9wb2/S3g3miHySLdbNDd2kzYKVGpVpIiqugjF7P3yQ55pyLFWmCSyVokZPqHnEoYmsWQGuyWOGdexNIkRFOnqbGN5bRngjh4G4rMLd6+KnmQW012lWrpOJuNjCh9LU9i6gRkEZHIrpNv/QK8vcijXz5lfLijgS+PmuYV75+fPDXr1Wt9znfsouy5x+2miuoltW1iawBJV0o0/wT8lBvbv5WZ+gaWNlasz43MfmQChH777e37uT78eHDx5+BiLBROjqhDaFmGkQ1KS6+mlr7+XX2evc+nWVB54+4kznfr8pZQIxXkRyhPvDb9vIjtQqgFN12hLO2yUZ/ni8o8SuAa8NTM+t/GE4HGGx4del0J+IGXUH8ko86iuAneAszPjc9/s5P8DuO6ZcsXuRqAAAAAASUVORK5CYII=',
            'silk_heart': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJ/SURBVDjLpZNLiI1xGMZ/3/edOWZojjkiudbMuEVMM4SMBVlbSUpZyAIhG4qlkcJWycZOSslCMTNFuYVpRrkzLuMy5tA4xulcv//t/Vt80ZTLxltvz7N43vd5F+8TeO/5n0r9JNLTs9A7t8FbO0WsfSvWdtdv2VIAKJ45kxWtt4rWh5xSQ6LUyeldXVcAAu890t29zzt3hPp0ljBCyiVMofhMjNkmWldE64t1U5qWTpjXiiuVqDx8RDX35ZxTalfgrl7d6K2+HC5cQBBGYAyk05jhYWrPX350WpcbWpsX17e0QGEMwgiasnzv7eX7oyfHUmLt3mjWTIJqFXJfwAlYS13zHKKV7XN9rInqG6D/AYgkBo0TyXSuId/Xvz0lxiyJMhkYegfGghdwDl68JpycgSiAwTeAgLYJ5scIWgUXx5mUGJPGOYgVKJUs0CZZMpIDaxNnEfAOlAFxYDSilKRE66K3dlpgDcQ1sC4ZtjbB8dxacBZSIYQhTqkwFKWu28FBmD0TKmWo1SCOwagEdZxgrZYYlEowv4X8jVuIUudDp9SJyodP7+NPI9C2FNJRIipXk4FqDVQM1QrUhbB2FYXRMXJXusdE667Ae0/++PFlotTZhmzjiknLlxOO5mDgCQRBcnq1Cm2L8M3zGO3p5fPte0/FmN0d/f13gp+v/Pnw4clOqQOi1P5sR1tj46wZcPceFMuwdjXFbwXen7+gRevTYsyxjoGB/K9PHF/vduxY4ZQ61dQ8d/XUDevBWfJ37jJy/eaQaL2z/f79a+P1wZ/C9Grz5ian1FHRek92zozg68s3l0Trg+19fUO/ib33f+3H69ZtetjZuf9fmuB/4/wDFoO2ZVesLdkAAAAASUVORK5CYII=',
            'silk_color_wheel': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAMOSURBVDjLVZNNaBxlAIafb+ab2Z3N7Oxv/nYTEyv2LzQJpKBgrQqNUKmY4kUIXqUHT70p9iB48CKIiN5E0It6KFiwiv9FpAVpKUggNc3mZ7vpJpv9n93ZnZ35PNRI+8B7e9/n9gqlFAeIVUfPeN3zh0R0eVpYM1OanhvTCEY0f3tU79+ctnpfHM73fuQhxIHAWHnmkOGXPjgZyS09l5hnNv4YOdMhoQmigzqGt4nhfeub1fpnVsl/e+hMv/q/QKy+Me0EO5dfso/OvzB8grgV4HGXJC7jwAQ2oxxDuC36xZ+Rhe+v6iutZf2iqklReNe0tPSHZ2Nz84ujR7ht3iJKjcexiOIQI8SiixxcR7QtRORFlK7O9t0rlyy4KBEj5+YisVeez85wy9zGIUeGDDYhDhYOITYuoh2BvTJ68y7B0GnCym8XGq+KL2U0MrE8Z2SRVhqdPmlCsvgk8RlCkgAivRbUNKj1YPMeeu4wcnjRql7/+jVpyvxsPjbK3whi5LEAB0WWgBRgqwAaFah04X4V7puwdwddz+FXjJMSbXI8aSTYCgU2oKMwEdgCEoDhug/G5SjsmFDUoV+DXJ7BnpiUVCNBaJqEXfDVfwG6CjoKnF4crZGCVvNBug0IPXzPZOCnAunfk8W6ro7H2gK3A02gGoDeA1MDGx2nkYG6C24bvDaMSzq7ZfxBsiC7O+aNDaWOn0oLfl0HMwDlQRCAHYUkEGvFkLsp2G9Bo0n41AiNG6sMBvY1yZr6/JsV//XZZ3WZaEp2t6DvgWFA1QRHQbwjSDeTUGvCiSPU1ovU/typQPIrTV0yrrl3vE+/+8XlaCIgq8H+BtSLUN2C2ibsl8ArR+HYGE0rwvbvRTr96HsL6od1CUDDf+enK92JwT+982cWEswvRmiug6qAr0E4AV4uoFXosnV1g8bN5kcp7E8eOZOYKtmUqm/ZiDdfPhV3Zp6IM5k0SIUBstwmXKvCX5UdM6y9n2b34wV1IXxEcEBU3J4dprU0zODpjFBTIyoIxgjXxlB/PIl1eUmdLjzc/xceOVXddrB6BQAAAABJRU5ErkJggg==',
            'silk_cake': '/fp/events/bunban.png',
            'silk_book_open': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIASURBVDjLpVPPaxNREJ6Vt01caH4oWk1T0ZKlGIo9RG+BUsEK4kEP/Q8qPXnpqRdPBf8A8Wahhx7FQ0GF9FJ6UksqwfTSBDGyB5HkkphC9tfb7jfbtyQQTx142byZ75v5ZnZWC4KALmICPy+2DkvKIX2f/POz83LxCL7nrz+WPNcll49DrhM9v7xdO9JW330DuXrrqkFSgig5iR2Cfv3t3gNxOnv5BwU+eZ5HuON5/PMPJZKJ+yKQfpW0S7TxdC6WJaWkyvff1LDaFRAeLZj05MHsiPTS6hua0PUqtwC5sHq9zv9RYWl+nu5cETcnJ1M0M5WlWq3GsX6/T+VymRzHDluZiGYAAsw0TQahV8uyyGq1qFgskm0bHIO/1+sx1rFtchJhArwEyIQ1Gg2WD2A6nWawHQJVDIWgIJfLhQowTIeE9D0mKAU8qPC0220afsWFQoH93W6X7yCDJ+DEBeBmsxnPIJVKxWQVUwry+XyUwBlKMKwA8jqdDhOVCqVAzQDVvXAXhOdGBFgymYwrGoZBmUyGjxCCdF0fSahaFdgoTHRxfTveMCXvWfkuE3Y+f40qhgT/nMitupzApdvT18bu+YeDQwY9Xl4aG9/d/URiMBhQq/dvZMeVghtT17lSZW9/rAKsvPa/r9Fc2dw+Pe0/xI6kM9mT5vtXy+Nw2kU/5zOGRpvuMIu0YAAAAABJRU5ErkJggg==',
            'silk_pill': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJhSURBVDjLpZNLSBtRFIaVIvFVsKSCG7UuWkVcGIiiGxE3YgUhgvgIirgJiIssspBK6cK0iIgbCyVgNyWGqkiLK63KiG100ZbYQiUP8zBxJuOMyaRJiCHB/j0zC0GsROjiwOVy/u+c/5578gDk/U/kTAicnDwOBoPP/H7/W4/Ho+N5/t6dAU6X63mY5yFJkhIsy8LpdHIOh0OdE/Dt8PAlGw4jk8kgnU4jkUgglUohGo2CAJL94KDwVgBjt7/yh0KKOJlMKtVFUcTZ2ZkC8ni9+LK/b/ongGEYs5sSZLGcLFeUxeRdsSCHeH4OZm8vcgPgsVqnue1tZEgQj8cRiUQUcZisnJ6eIhAIwEtw+X5jZwfXAOGpqenEygqyu7u4mJ1FjGEgCAI4jkOI7NAUcHx8rABpMlhbX3ddATyDgwZpcRFZol7MzCAxMYHfY2MQlpZAI4TP5wONECcklN9hY3MT72y2SgVgr6pSecfHkaXLlNmMOJ1jo6OI9vdD7OlBaG4ObrdbaV8g8fetLaxZLANXY9yoqXniNxqRWV1F3GBAbGQEkb4+iN3d4Ds6wLW2giVLAj3ij+VlHExODlz7SO8rKh4dUbW0xQJJr0ektxdCVxf49nZwzc0QCBCj8JMtZnh44MZXXigtzf9YV/dTNBr/JE0mCJ2dCLe1gdVqIRBAamqCr6UFX+vrdbfuwkJZ2cN9rTYo6vWZ5NAQBALEqYOoRoNfDQ34VF2ty7lM8yUlD6zl5R+OGhslVqO59NbWXn6urMza1Oqnd97GFwUF+fOFhdo3xcWm10VFunmV6n6ubf0LxSvsH2lz/wcAAAAASUVORK5CYII=',
            'silk_asterisk_yellow': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJ5SURBVDjLpZPNS1RhFMaff2EWLWo5tGnRaqCFRBAM0cZFwVSQpVHNQAWVMQwaSSZWtimLiKnsO5lEjKzs4y1zRK3oItfMj1FnnJkaUtNrjo45H3eejpCKNa5anMX73vs855zfOS9I4n9i2SHbCpvph8q8A9PNcCzcz76EM9EETj+DmmqENaeBiJ3mRyuzQy5mwyVMKqiFbzNN0MxgKZOd2zj5GMZE/ZL5ooHZAntGW89s7Bw5Ws25llWcfQHrzHPYE/51ZOQ0M4Fiitj4UQdbzhZSb+FJ63ZypJqp7p0UsTf+FN6kvoMMl3GmNY9jj+BckcF8/HoFldLzpZIqxhthJPVdkr2cifdb5sXefyAKLFvyzVJJAssisIxstILZ0DEyeJzpHifHfNBGamFZ+C9yC7bhG7BBxCrZZqWQpoiNP6S1TMBFDh4gA0VMdxfy+0NosftQX+8gGKkBY741HLoGhbnXUOZwKTn+gGa4nOlBN9MDxdJzCTmwj+wvEKPDTPUc5Zx+kOk+NxmqZOJTIXsviYGQVgKLAos/n0CbbIAS0ir1eY9kF4O+3UzpBYzehhaugQpdR3DwKth7EeyqEoO/oYzXwyKwDDN0ipme/VKFi0l9L8M3oYW8SwxWnIKI1XT7Vqb6i/ntLoLTHdulhROcUJsZuJJjCsvEPpyf8m8io5U0VB6FtFNIe6da84XFEcYaNrDzLDw5DUZ9cEwqm6zxGWYGPBTShogtQtoerV0rLA5JKy5+ubya7SdzbKKMyRG7ByPeIfvebKfAWszUdQFavKOI0bqNbCuF4XfneAvzIaStQrpOxEpIL746rQKOD2VQbSXwtLiXg/wNTNvAOhsl8oEAAAAASUVORK5CYII=',
            'silk_wand': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHMSURBVDjLlZLBSyJhGMa/UxTUIWJ0ZVmlwxLLEiEhurCoKeqCOtZN7J4ZRZdd9rSG6NFbSOegDp5aqWWI3UGm6KBUxsq2LLj+CzV9jDOH8NlvJtqLjuXhBy/z8Xvel4chAMhTKGfOMeVsbqXf2wBp3s5Yf5hno8rp24YxS9PTVHq18mTAgzj3k4mCIs0cqZeLUCTHJ1q13VKRSz0v4PRNVr1KQfu9Aa31BZ2LKKg42aHfJ8ZNA9i5L9hWUZFeQ73kof3N42SPR6OyjFZ1FZ36AuQfo5CPyc7gDiRHttNYwsl+Apqmodvt4uJrCur1GmSB/GI4TAOo9JKjVasQi8VQr9ehqiqazSaqu1Fofz5C/kYow9M3gJVkp+JUJZFIIJ1Oo1gsolwu42hngcmfdfmecS4fki3TC3ieN2SPx4NAIIB4PA7lPIo70YY7YQJyhdhNS3yU3W43/H4/LBaLvnWbbbxnvGNyQz4gmb4ByWQShULBkH0+HziOg/6die+ZKOjzzQEZYXzoCYhEIsjn8z3yI0wKmf7KwWAQuVwOLpcLXq+3Rx4EyWQyaLfbcDqdCIVCQ8n/A2q1GkqlklHYMLIREA6HN/WzrVbr0LLOP1AMs7UPAa92AAAAAElFTkSuQmCC',
            'silk_bug': '/fp/events/spmb.png',
            'silk_add': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJvSURBVDjLpZPrS5NhGIf9W7YvBYOkhlkoqCklWChv2WyKik7blnNris72bi6dus0DLZ0TDxW1odtopDs4D8MDZuLU0kXq61CijSIIasOvv94VTUfLiB74fXngup7nvrnvJABJ/5PfLnTTdcwOj4RsdYmo5glBWP6iOtzwvIKSWstI0Wgx80SBblpKtE9KQs/We7EaWoT/8wbWP61gMmCH0lMDvokT4j25TiQU/ITFkek9Ow6+7WH2gwsmahCPdwyw75uw9HEO2gUZSkfyI9zBPCJOoJ2SMmg46N61YO/rNoa39Xi41oFuXysMfh36/Fp0b7bAfWAH6RGi0HglWNCbzYgJaFjRv6zGuy+b9It96N3SQvNKiV9HvSaDfFEIxXItnPs23BzJQd6DDEVM0OKsoVwBG/1VMzpXVWhbkUM2K4oJBDYuGmbKIJ0qxsAbHfRLzbjcnUbFBIpx/qH3vQv9b3U03IQ/HfFkERTzfFj8w8jSpR7GBE123uFEYAzaDRIqX/2JAtJbDat/COkd7CNBva2cMvq0MGxp0PRSCPF8BXjWG3FgNHc9XPT71Ojy3sMFdfJRCeKxEsVtKwFHwALZfCUk3tIfNR8XiJwc1LmL4dg141JPKtj3WUdNFJqLGFVPC4OkR4BxajTWsChY64wmCnMxsWPCHcutKBxMVp5mxA1S+aMComToaqTRUQknLTH62kHOVEE+VQnjahscNCy0cMBWsSI0TCQcZc5ALkEYckL5A5noWSBhfm2AecMAjbcRWV0pUTh0HE64TNf0mczcnnQyu/MilaFJCae1nw2fbz1DnVOxyGTlKeZft/Ff8x1BRssfACjTwQAAAABJRU5ErkJggg==',
            'silk_delete': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJdSURBVDjLpZP7S1NhGMf9W7YfogSJboSEUVCY8zJ31trcps6zTI9bLGJpjp1hmkGNxVz4Q6ildtXKXzJNbJRaRmrXoeWx8tJOTWptnrNryre5YCYuI3rh+8vL+/m8PA/PkwIg5X+y5mJWrxfOUBXm91QZM6UluUmthntHqplxUml2lciF6wrmdHriI0Wx3xw2hAediLwZRWRkCPzdDswaSvGqkGCfq8VEUsEyPF1O8Qu3O7A09RbRvjuIttsRbT6HHzebsDjcB4/JgFFlNv9MnkmsEszodIIY7Oaut2OJcSF68Qx8dgv8tmqEL1gQaaARtp5A+N4NzB0lMXxon/uxbI8gIYjB9HytGYuusfiPIQcN71kjgnW6VeFOkgh3XcHLvAwMSDPohOADdYQJdF1FtLMZPmslvhZJk2ahkgRvq4HHUoWHRDqTEDDl2mDkfheiDgt8pw340/EocuClCuFvboQzb0cwIZgki4KhzlaE6w0InipbVzBfqoK/qRH94i0rgokSFeO11iBkp8EdV8cfJo0yD75aE2ZNRvSJ0lZKcBXLaUYmQrCzDT6tDN5SyRqYlWeDLZAg0H4JQ+Jt6M3atNLE10VSwQsN4Z6r0CBwqzXesHmV+BeoyAUri8EyMfi2FowXS5dhd7doo2DVII0V5BAjigP89GEVAtda8b2ehodU4rNaAW+dGfzlFkyo89GTlcrHYCLpKD+V7yeeHNzLjkp24Uu1Ed6G8/F8qjqGRzlbl2H2dzjpMg1KdwsHxOlmJ7GTeZC/nesXbeZ6c9OYnuxUc3fmBuFft/Ff8xMd0s65SXIb/gAAAABJRU5ErkJggg==',
            'silk_eye': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKASURBVDjLxVNLTxNRFP7udDp9TCEtFSzloUBwY4FUF0ZjVDYsTDSw0/gjXBii/gk2GjZudO1G4wONK40CGkQSRKTybqGAfVHa6dy5M/d6WwMhccnCk3yLk3u+L9+55xwihMBRQsERQz2crK+vX3Txyn1SyfXDMnyE24AjwR0Q4qLQw1M82H4vGo1+3OeQ/RZSqdQTV2XnhkKzmqaoYJaJQj4P27LgcQGNdTocRmFzyWiJv2zqil0/EJDkt67C0oAGhtTmJpLpHEwSAPNEwBwCy+bQ7W1EsYlYWxiKdMSjvbPhniu96tra2ohmbAxovILZxCq0E5dh6M1g0jllAqYEZRw7lhRp1ZDdewW9tILAykRPingfk9Ti7BbJJ47viiC645cwNm2gYPAaefhWH4TgGB79JoU4vG6Cu0MNyMx/Bv8+hkzJtlWWW27yRfrQ0dhS+4sq0aAOqHQgOK8JGJbMKZf9/h1asPssyv56sBejqupuinEtEHI5jgNFURCuA5JZB6a0fPvBF1BLClbsmoPT7X5wKVqrbWhFqDMmFFHcKLLiNmzbBmMM7WEFAY2jbDCUJbFsMpQkjgUI4ifVWk21lqaXoBQ2mMJ94adi6wes5AxoMYOw7uBcl4JTEQFVULhhId5GcO2MJtuUEykXQRc+gb1/hLTl/VobY2JmctyfnTvvUwlEqCMPvdGEHrKgevj+wlTrxO8VL1+ebLaSc1gwA2kj9bPlYJGmPrx7bm0lrkbIrhrwewFPPbjbj+pzdSPtUh7YXsRqpiT2gp1T9NfEhcGR1zY5fEzjo3c8ud3SIKV0SJrp1wgCLjiS7/CKaU5LPCOcj918+Gb+n1X+b9f4B22tbKhgZZpBAAAAAElFTkSuQmCC',
            'silk_error': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIsSURBVDjLpVNLSJQBEP7+h6uu62vLVAJDW1KQTMrINQ1vPQzq1GOpa9EppGOHLh0kCEKL7JBEhVCHihAsESyJiE4FWShGRmauu7KYiv6Pma+DGoFrBQ7MzGFmPr5vmDFIYj1mr1WYfrHPovA9VVOqbC7e/1rS9ZlrAVDYHig5WB0oPtBI0TNrUiC5yhP9jeF4X8NPcWfopoY48XT39PjjXeF0vWkZqOjd7LJYrmGasHPCCJbHwhS9/F8M4s8baid764Xi0Ilfp5voorpJfn2wwx/r3l77TwZUvR+qajXVn8PnvocYfXYH6k2ioOaCpaIdf11ivDcayyiMVudsOYqFb60gARJYHG9DbqQFmSVNjaO3K2NpAeK90ZCqtgcrjkP9aUCXp0moetDFEeRXnYCKXhm+uTW0CkBFu4JlxzZkFlbASz4CQGQVBFeEwZm8geyiMuRVntzsL3oXV+YMkvjRsydC1U+lhwZsWXgHb+oWVAEzIwvzyVlk5igsi7DymmHlHsFQR50rjl+981Jy1Fw6Gu0ObTtnU+cgs28AKgDiy+Awpj5OACBAhZ/qh2HOo6i+NeA73jUAML4/qWux8mt6NjW1w599CS9xb0mSEqQBEDAtwqALUmBaG5FV3oYPnTHMjAwetlWksyByaukxQg2wQ9FlccaK/OXA3/uAEUDp3rNIDQ1ctSk6kHh1/jRFoaL4M4snEMeD73gQx4M4PsT1IZ5AfYH68tZY7zv/ApRMY9mnuVMvAAAAAElFTkSuQmCC',
            'silk_help': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKkSURBVDjLpZPdT5JhGMb9W+BPaK3matVqndXWOOigA6fmJ9DUcrUMlrN0mNMsKTUznQpq6pyKAm8CIogmypcg8GIiX8rHRHjhVbPt6o01nMvZWge/k3vP9duuZ/edAyDnf/hjoCMP2Vr3gUDj3CdV6zT1xZ6iFDaKnLEkBFOmPfaZArWT5sw60iFP+BAbOzTcQSqDZzsNRyCNkcVoaGghzDlVQKylOHJrMrUZ2Yf52y6kc36IxpyoH1lHF7EBgyMKV4jCJ5U/1UVscU4IZOYEa3I1HtwI01hwxlDLhDoJD/wxGr5YGmOLAdRIrVCuhmD3JdA6SQabx12srGB0KSpc86ew4olDOGjH4x4z0gdHDD9+c4TaQQtq+k2Yt0egXYugTmoVZgV9cyHSxXTtJjZR3WNCVfcK/NE0ppYDUNu2QTMCtS0IbrsOrVMOWL27eNJtJLOCDoWXdgeTEEosqPxoBK/TwDzWY9rowy51gJ1dGr2zLpS2aVH5QQ+Hbw88sZ7OClrGXbQrkMTTAQu4HXqUv9eh7J0OSfo7tiIU+GItilpUuM/AF2tg98eR36Q+FryQ2kjbVhximQu8dgPKxPMoeTuH4tfqDIWvCBQ2KlDQKEe9dBlGTwR36+THFZg+QoUxAL0jgsoOQzYYS+wjskcjTzSToVAkA7Hqg4Spc6tm4vgT+eIFVvmb+eCSMwLlih/cNg0KmpRoGzdl+BXOb5jAsMYNjSWAm9VjwesPR1knFilPNMu510CkdPZtqK1BvJQsoaRZjqLGaTzv1UNp9EJl9uNqxefU5QdDnFNX+Y5Qxrn9bDLUR6zjqzsMizeWYdG5gy6ZDbk8aehiuYRz5jHdeDTKvlY1IrhSMUxe4g9SuVwpdaFsgDxf2i84V9zH/us1/is/AdevBaK9Tb3EAAAAAElFTkSuQmCC',
            'silk_lightning': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIMSURBVDjLpVNLaxNRFP6STmaKdFqrgYKWlGLSgoiKCwsKVnFRtBsVUSTNyj/gxv4Bl678AyKCoCulgmtd+W7romgzKT4QMW1G+5hMpnPnnuuZm6ZNawoVBw7n3pn5vvP4zkkopfA/j9F8cafO3FekCjGpIgKIvayftTXOkr71jkz2/UXA4HxXfz72gIx/lBsWSfiVtwiWHK8B3kRQeX/6lmnnkuDAwn0MJSKQEFChQCp9CcHixxgsGWw3B01uRKfx9t1HIP1POpoSdUulLyD0vqO26IAkDW7tgSZYeHPqcmpXxkTChKzOaAKSEdo6jnEWVY5ehFxdHs2cn55rScDR73H6DKyyRWs1R0haGdR+z8YZ3MyMTj9rpUKi/PLkUJuZfmX3nkNYmQBxzYprpyCA2XMRrvNAcdfDhgKkm6ttKTdW6jH4w4RpD/ALAaNzhH2kSwALoSJCd9+VhIqEVVeD4C1MclaOT0Ke0Cowq+X9eLHapLH23f1XreDzI27LfqT2HIfvzsRAyLB2N1coXV8vodUkfn16+HnnvrPDhrmXsxBY+fmOwcVlJh/IFebK207iuqSShg0rjer8B9TcWY7q38nmnRstm7g1gy9PDk2129mjinjy3OIvJjvI4PJ2u7CJgMEdUMmVuA9ShLez14rj/7RMDHzNAzTP/gCDvR2to968NSs9HBxqvu/E/gBCSoxk53STJQAAAABJRU5ErkJggg==',
            'silk_rosette': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIzSURBVDjLhZNLbxJRGIZP22la6KLpou1GN11QKGW4DFTH1phorZcYi8R6w2ooAlUSjUStC39A49I/4sK9f8OFLoyCwZAAgsMwc87x9RuoSXWgLt7MvGfO+3zfnAsDwAaJT0094+PjlojHTc7YpWHz/g4x5hELCx16Qm5eg9zOQGZzEMeOQyQSsLze8v8Ab2TqOuTT55C5R5CPS5ClPYhsAfJJCXY0htbkZH4ggFp+LYIq5I00RDoDQz+DRlxHM3YSxsoq+K27EDt5WDMzlsmY5gIIn0/Il6+ocpECazDip2BrOuzYCViRBMzoCgT9El+/gEYgUHN3MDLSlMktCFKTQk5QRCgUjoOHYugsRyC3bqObvodv09NlF8DWtKYsvYDM5NCmijycgFA1iOUoeDAMM6BCXEmiq6+ioihv3YC5OdlbtJ0cOlHqgKryYAR8SYXtD/UAMr+LzvZ9VP3+7y6AMT//rq1R1UIRfOMyTAKYTnAxSOEQOLXe2kziq28RHxnbG7iNrdnZ991kCuJmGnK3CJmiNblKPvOAdiCHaiSKT4pybug5qDO2VB4bQ23tNIyNi+CFhzDObqC+fh5lVcXnQIAfeZB68nqloSiojI7ii67jA73XJibQIG8zJo8GeDxZUAeShi3ST+fzP/4HY9nhAMYscTC5Q2oxViFfOeQdgDUQ8IuxO04l+wBg9kP75PcP+V4XbZrrAlC4TmpRxarTBV0sy3ZuZ18W78OrpBYB639yvwHcmnk0jmx5QwAAAABJRU5ErkJggg==',
            'silk_heart_broken': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAB3RJTUUH1wkdFggiaZ5/KgAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAALVSURBVHjapZM5TFRBGMf/8/ZgF1hYAoRzhRXl8AhKTDQSI4QaKaCgsSHERgyNBRVBLQixNBJNLK1M8CogFDYocoSI4VoIcgWWt4CE3X27+655Mw6HxCgWxkm+ybw33/f7jvk+4D8X+XmwBgbKuGXVMcOosQzjjru5OfyrotLbm2Xq+k2YZoqpaUM5nZ2rxwCrv/+eMH4AlzODJRIww9FZZpq3Pa2tk7yvT4rK8nXGWY8zMzOP221phix/1EPbD/O6uyeJMK7n1HgvlZWCSDaBJDDX12GsB99InD9mFl21KB1O8hUWOTK8EkwDRkRBbGr6i/JtqcHOKG2zFeSDCM/YDAG6AYffB3l2JjWv5LTdkerJtTj3S5SBLImoJQJXmge89GxVJDDfZRehnrelpQHLK4BJRT4WEFhE0kygwNCp31FUsGUjIrI9URLGDu8jYTjLy2BpWv0+wHnwU9OF9yMR31xVXSQWS8bWrheZmYCqAfwIIIQYxj7AbRdVj3JKswk1BUQ9SAGUwiERlyhoiaWqGzahDE07NgbhBzCm61wS2we6sAAU5gPxGGAcAlJ9hU4ai121lIgPujBW1UNJxAFPClQ5BEvX5yWx9cTXNla1jSBQeRFwinwVBRLj6TweP0NiiZwD7/vRMVGj3Gxobje+j46r3DR7JW9b27KANESn5yaUiQmwcxVAhX+/PRxc19xCKR1ra0CKC7ykGAnxCruzgV1lcfGVjdK3x5242dGRLkD3RUrtGVWVHk9BHvB5BDvBkJJdXuoxPKmIbu9YqiwHoksr/TQSfXlpfHya/N7byy0tVwToidd/6lpWXS1CT5/DW3sD4WAoFp6dG9W2d17bGXt3weuVyeAgJycNyEJTk1dAHokXuutvvLUSXVpO3psJDBt74Rei5Ycuj40l/himk9ZUTU1jRnFhV2R98xNLqM9cwFzpyIj5T+P6tbq6Xa6tTfrb/Q8XdqPm98SRdQAAAABJRU5ErkJggg==',
            'silk_arrow_up': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAEGSURBVDjLpZM/LwRRFMXPspmEaGc1shHRaiXsJ5GIRixbCr6SikxIlqgJM5UohIiGdofovHf/PZVmYwZvTntPfjnn3txWCAFNNFE33L/ZKXYv+1dRgL3r7bu0PbucJp3e4GLjtsrXGq9wkA8SU7tPk87i/MwCzAyP5QNeytcnJl46XMuoNoGKDoVlTkQhJpAgmJqcBjnqkqPTXxN8qz9cD6vdHtQMxXOBt49y5XjzLB/3tau6kWewKiwoRu8jZFvn+U++GgCBlWFBQY4qr1ANcAQxgQaFjwH4TwYrQ5skYBOYKbzjiASOwCrNd2BBwZ4jAcowGJgkAuAZ2dEJhAUqij//wn/1BesSumImTttSAAAAAElFTkSuQmCC',
            'silk_arrow_down': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAENSURBVDjLpZM/SwNREMTnxBRpFYmctaKCfwrBSCrRLuL3iEW6+EEUG8XvIVjYWNgJdhFjIXamv3s7u/ssrtO7hFy2fcOPmd03SYwR88xi1cPgpRdjjDB1mBquju+TMt1CFcDd0V7q4GilAwpnd2A0qCvcHRSdHUBqAYgOyaUGIBQAc4fkNSJIIGgGj4ZQx4EEAY3waPUiSC5FhLoOQkbQCJvioPQfnN2ctpuNJugKNUWYsMR/gO71yYPk8tRaboGmoCvS1RQ7/c1sq7f+OBUQcjkPGb9+xmOoF6ckCQb9pmj3rz6pKtPB5e5rmq7tmxk+hqO34e1or0yXTGrj9sXGs1Ib73efh1WaZN46/wI8JLfHaN24FwAAAABJRU5ErkJggg==',
            'silk_emoticon_smile': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJnSURBVDjLpZPNS9RhEMc/z29t1d1tfSmhCAwjioqoKNYuYkRRFB300MWT3eooeMn6C4TunYoiOgSKkGAUhh0SjJCwsBdtfQMN17Ta2v39nueZ6WBtktGh5jLDMPPhC/Mdo6r8T5T93nCPTUqVDhVOi5BRBRVGRBhQ4drGc5pfO2/WKnCPTbMKN0x9Z4OpzqDxWlCPFnL45VHCd91ZEdprWnRoHcANmhatbu4JtrShiSr8t9dIuIS6IpgKgoqdGBsQztwj/DDUWndee0sAO2hqVZmO7b+bkuAzvpgF+wVxIeqLqxBRTHk9sfL9fBq+kBdh+9Y2/RgAqNARbO9KaRwkzIL7ymBfDiQCH/HkIYjN4z6P4cNJEnu6UuLpAAgARDhrahqRYhZ1BVQsx85UomJRb2lqzqMSojaPW3lOWfUuxHN2LWAv5WnErZSWVCzqItRHP2qL+ggJc0CI9zSUACoU1BXBOx71PmXq7dzqorc/csj05BKDD+ZQsaCKCLFfCjxZbAGIc7R5N+9ezTI7uYD6EBXLTHaZiTfLZBrTmCCB+DJsyETJSCL029zowaC6nkRynqNNDYw9m2L8xSx4S7LSkMlUkUzEKEsfoJCbxkb0l8643GPqRHifarydEvsGnx9HohXUhYj7eUaIJXdi0qeYvn8x7yw7Dl3WxQCgplUXRWj/NnELdBuxdCMmVouKgihBfDMb6k6gieMsvezDRrQfuqyL66w8f8ecFM/15N7OhvimfQQbAhCHCz1f59+yMNyddZZLh6/owB9/AWD2pkmJp1OE096TcRE4y4izDDhL95Grf3mmf4nvrQOLvcb/mlMAAAAASUVORK5CYII=',
            'silk_door_out': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJCSURBVDjLlZO7a9RBFIW/+e1ms0kMmOCbRKKGaCBBUCsttNM/wU4UsRQUQQSblIKWFpGIiLVYWQgWsRIRxFc0PhOMhSjRDZFkZ+5jLFazWWx04HKq883cw5mQc+Z/z9T105fc7ayZLpb/x/j6xpl37jZYWb+JmdkpeouKrgDGxsayu/NnzGxFT4xkCpzKuk2s2TaIm5NnXiASWQGYGX19fQCEEFo055f07DsABOLPeUwiOTsiSrEakMlM1u+tmP+MmeFm1GufkaUFXBLZ7e8X3F++y0KqETqbZgDVhJtgmnBNQCC7k1K9CZjufcqWjZvpsbXc+jiBqaFimBpX+/eQVXFJmCbIDYDKb8CRK4eeD/QPMDo0irqya3An4oqYcPv2HeT3zSaRrHU2rv/K+6ykFCkfvnzw5sCWgdHRoRFq9RpLsoSYkFzoKq9B1RBJmCqWIt1dP+hdO09baZlFqVPcO/fg2JuPb6cePXtMEUq0l6pUyx1USx1ES6gYInVcIyaR2vcSs7PriKmtGeLkxYcjB8/vz8v1ZVSVDx9mMHVMDTcnpYir4BIxEeZjGdwRSc0Qt3/dyUx4S5FLnNt7oaUL+upaIwMVTCMhlHF3VFOzB6rK8eFTZMstHQghkCQ2zBJxSY0e5AagvBpQFAUndp9q6UAIAZHGCp09/bgKGpcgf8FMCePj43l6epq5ubmW/q/Wo9tn6erupr3aRaXaSVulncWfNT69efIt/Mt3nji5dYOZ7jCTYTMdcre+olw5ahIXfgHcTaP3d3vNvQAAAABJRU5ErkJggg==',
            'silk_sport_8ball': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAF8SURBVBgZBcFNiIwBAAbgN5etvQiJOPiuyk/YwqLk52v9NbTtarDGNpbhoCknHKgtOXxDIU60mVI4OOxVbtuchaTkoByUMpoc/NTjeSIi0irPd5q9U/2J/uHe7s7mUkQkImeLi1VrcM+cZ56oXLJusKZaVohEThcz3fve+Oaz1+bdctdNNUPdFBKZqu54658v2q54pKvlsmt2SCWpleODl75aMKvtu3MWNJ02oymDlCk7N7zwR9tHc9pm/TDtpHFNa6WT0d4d930y54E583inoe6YmhHpZX3/oVnP/fTKvF/+emzKpJo9tkk/Rf+2q9qe+uC39x5rqBt30E4bpJ+lvUuuaLmg5ZymhhMm1OwzarX0sqiz33UN06Y1TKmbcNSY7UYMSycpM5hxxnF1dZPG1YzZaZOVMkgZSbXOpGMOOeKIA/baaqNVhqSSSIp01xhV2mWrLTZZa7Eh6aaQiKRIlcESK6y23LAhGaRKIRIRkZTppJd++umlk1JE5D9AhzZjNC9N+QAAAABJRU5ErkJggg==',
            'silk_flag_blue': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIxSURBVDjLpdNdSFNhGAdwKSNyg6ALC8GLoE8so49VRHVRFFQISlJeREXQBxWSSZDUpNrOTDoxSGvhmokV1TazLeekTBda9rVKmW5lYq6slgutOI7j1vn3vKc4rCAv3MXDgfPy/73Pc3hOEoCkROq/B6v2GdIWHLnhmK1v7ZtZ3PIuo9DmOr17iaUkLx1Ud6g2jgqo+JCU4x7Bs5AEe4+EhbYYMsv9iEYGcU+/VEZkYNkew7iJnHBrgl4YSeYEJJcIGF8qoKw9Bv8g8GkY8IaBthDgqatCsNGAq4czGbBLBhbv5VWT+EiL2Q9cfg2YA0DDe+AxBeqDQPvX3+/PdwKmfA0+PDDCuGM6A9JkYP5Byyy1SexgQM5dIJvqpJdCb4DWz8BDKguhhzxDor1Ig+7afBaG8hFnFDiyp1ZFgxa6JbcR2NoEnCLg2ltqfQBwUzcVhJc1+4c8/Br0urV/A9OKvJyxQ/qmfQ5so/D2ZoB7CVh7gN4fwP1+wEWjGK/XoKt6C9rOrWeATwHUugEn3RBjrW9oAI4TdJPCno80RlfsZ27d9+Eslxitcdpk4HbxCgboFEB1JvKk3CfhSjdQTXM7+yRorCLUZ8PSposvvMZX0bydtf2Vi9JT4avcjIr9GQxYrQBzC2zmVG2nkGIISyncF2mKLiDOKbQ+it8JCqy9dGCe3EH8/KMu0j9AqePEyoSAwFNTVkKAHG7i1ykrPCbAfmw5A46OBbjw5y9kz8nxZ78A90vOcDVd+i0AAAAASUVORK5CYII=',
            'silk_user_comment': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJ5SURBVDjLfZJtSFNRGMenRkgY1BKiL30yEkqJrCjrgxBB5Qtmyy3NcGoUuqD5skEm+ZZizpTUmZEw33ML06lzGoQKtRRETXM2Z1LOTBs6LNNw9/w7d+IiuevAj3vO4fx/z+E5lweAtxVRvp5Pqaf8psAF3RQfngtBa1OvCet2Bq5Ge/80K5nkCntR7AwhsP0imF8msCwRfF4k+GQlmFxgYF7YEKerDJzV90vKexwHZm0EX2hw6juBaZ6B8RuDsa8MRiwbggL1IP57A7b6NK36kYbH5xiM0vCwhRXYHYKMmnd/gwlH+dvunPTOehy623ZLlrfO9oCVbA72JsMzjEPK2QP5Gb5UGewJxcXtKBLsQ2JKBkR5OkfHq/QfnKKlH2uONd0f/ecVioM8OzXyC+hRRKFAeBC3A3dAfHwn7ob71tCD5rnFlc3gKiVjM+cUlEbsqZ4xqLE81IT3Lx6gXyXDUMsjpGQqRip1Y2zwJ0W6tWfOyZUQQepEYxpZHW8FTFqsGdvRX5dORLlaKw0mcP0vTsHekAYPXkDFE3VxNplU3cREXQrMdRKoCnOI+5Gycu9zlR4uBbvON7l5nNbkykunGL0VkGvfQqo2QFJtwLNhIDHfZHc/UZvpFVThxik4FfEwNS2nDc+NBMkDwI0+4LoeiNQAV+sJcrsIxMnNJDD0noxTMFt4CAPqUiSp5xHbAcRoCIQ1BBFVBGFPAYFiAYPNSkxl+4JTYFYGv6mVxyBU2oe4LiC+GxDrKPR7rQU4G9eBl/ejMVEW1sspMDUk8V+VxPsHRDZkHbjcZvGL7lrxj+pe8xN2rviEa63HLlUVvS6JPWxqlPC5BH8A3ojcdBpMJSoAAAAASUVORK5CYII=',
            'silk_comment': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAEvSURBVDjLY/j//z8DJZiBagZEtO8QAuKlQPwTiP/jwbuAWAWbARtXHrz1//efv//xgS0n74MMuQ3EbHADgBweIP7z99+//x++/fv/8tO//88+/vv/5P2//w/f/ft/782//7df/f1/5xXE8OoFx0GGmCEbIJcz9QBY8gVQ47MP//4/Bmp+8Pbf/7tQzddf/P1/9RnEgM5VZ0EGeGM14ClQ86N3UM2v//2/9RKi+QpQ88UnuA2AewHk/PtAW++8/vv/JlDzted//18Gar7wBGTAH7ABtYtOgAywxBqIIEOQAcg1Fx7/BRuMFoicuKLxDyzK5u64Cjfo/ecfYD5Q/DLWaMSGgQrvPH/3FabxOxDXEp0SgYp7Z267AtL4BYgLSUrKQA1KQHwPiFPolxcGzAAA94sPIr7iagsAAAAASUVORK5CYII=',
            'silk_book': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHjSURBVDjLdZO/alVBEMZ/5+TemxAbFUUskqAoSOJNp4KC4AsoPoGFIHY+gA+jiJXaKIiChbETtBYLUbSMRf6Aydndmfks9kRjvHdhGVh2fvN9uzONJK7fe7Ai6algA3FZCAmQqEF/dnihpK1v7x7dPw0woF64Izg3Xl5s1n9uIe0lQYUFCtjc+sVuEqHBKfpVAXB1vLzQXFtdYPHkGFUCoahVo1Y/fnie+bkBV27c5R8A0pHxyhKvPn5hY2MHRQAQeyokFGJze4cuZfav3gLNYDTg7Pklzpw4ijtIQYRwFx6BhdjtCk+erU0CCPfg+/o2o3ZI13WUlLGo58YMg+GIY4dmCWkCAAgPzAspJW5ePFPlV3VI4uHbz5S5IQfy/yooHngxzFser30iFcNcuAVGw3A0Ilt91IkAsyCXQg5QO0szHEIrogkiguwN2acCoJhjnZGKYx4Ujz5WOA2YD1BMU+BBSYVUvNpxkXuIuWgbsOxTHrG3UHIFWIhsgXtQQpTizNBS5jXZQkhkcywZqQQlAjdRwiml7wU5xWLaL1AvZa8WIjALzIRZ7YVWDW5CiIj48Z8F2pYLl1ZR0+AuzEX0UX035mxIkLq0dhDw5vXL97fr5O3rfwQHJhPx4uuH57f2AL8BfPrVlrs6xwsAAAAASUVORK5CYII=',
            'silk_chart_pie': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAMoSURBVDjLndPLb5RVHMbx5515pxfnnaadQi9MSykzRSFSqyWjITVoUIMhLmClLky6YcempKBGgitDJEgaIlVjMGkkLkCqIUTjyo7YQs00dYYZpsNoufReaWn7nvM757yX4wJJJBoXfv+AT57NY2it8bBT2fct6aoeodQeoSgplISQYpSE+i6onv2gWr9e/tEbMY6/ZTwETmaO7ZKO+uKZ6q7WoFkBx/BQV7keN6fyuJj7qj9mfJJVjturlNf9+YH40CPAiV+P7tsYSlysDW/AtLqHcTuPoA5gp/U0zl39bKnS3ZeMGC+NJhNWNHdrFbdn7f3nD7cPAkDgw/GjUaHEQJ21EWN2Ean7I7jvrCBR2YL5ubtgjN4L692HttRVROtrKtDWaIFIDbzy9nAUAAJcUk9n9S6rRFPI8wlwV2B9MApLhPBN5sJ4LHj6miDnQKI5jMKMQLSqHG1NEUtw6vkLYHuDoXJk7QKUK1EVsNBe9QRGiz+D1sRBR5p9HZsjQeX4mLqnUJyTaKgNQ5DYCwAmJ7FNGi4CMNBhPYlN5THc+b2EdCl9tjUysIFIdsZqKzFS5ODMA1v1sDUWghTUCgAmI071FevKuiI7MD9zF/1jJ5ckU33Hll87M7GSNn8IP15aWBbbTRjgzIf2fUhlQpEIPljAafKXG8Mdl64PLkqSxw/PNp3fvRR+S/PcxPM8/cKlbb0Q0gPnGsQ81NaEML1gQ0kqPQAYfflt5uv+U1Ntl7esBHs0p7yzudkyir/BX7NBRODCA3ENYbtojj+G4aslOJIuA4A5WOo4qzkd15xOO/GWMifeAt/zYI5lAcYguYSQHoiAzu0RFCbnkcllbM9RfQBgapuZPuNvqp3JMremGuJGHqHGJvg2g2YEKThIeEjEwigUp1HM3YQrRffs0JFFAAiEPj6z6K+xbuNaGsgVEGpohE8cHhE8ElAksMocXEll8FMqNTkzd+vV2aEjF/7xhbWuF1/WQnyq4pta3fp1CPw4Ar3wR/tzO9455ylJrqu+91x1Yj71rv2vZwKA5a1PWZ5UvVqpPb5yktp12xuWZrL4jx4B/k9/AolT0+iTfsOYAAAAAElFTkSuQmCC',
            'silk_cross': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIhSURBVDjLlZPrThNRFIWJicmJz6BWiYbIkYDEG0JbBiitDQgm0PuFXqSAtKXtpE2hNuoPTXwSnwtExd6w0pl2OtPlrphKLSXhx07OZM769qy19wwAGLhM1ddC184+d18QMzoq3lfsD3LZ7Y3XbE5DL6Atzuyilc5Ciyd7IHVfgNcDYTQ2tvDr5crn6uLSvX+Av2Lk36FFpSVENDe3OxDZu8apO5rROJDLo30+Nlvj5RnTlVNAKs1aCVFr7b4BPn6Cls21AWgEQlz2+Dl1h7IdA+i97A/geP65WhbmrnZZ0GIJpr6OqZqYAd5/gJpKox4Mg7pD2YoC2b0/54rJQuJZdm6Izcgma4TW1WZ0h+y8BfbyJMwBmSxkjw+VObNanp5h/adwGhaTXF4NWbLj9gEONyCmUZmd10pGgf1/vwcgOT3tUQE0DdicwIod2EmSbwsKE1P8QoDkcHPJ5YESjgBJkYQpIEZ2KEB51Y6y3ojvY+P8XEDN7uKS0w0ltA7QGCWHCxSWWpwyaCeLy0BkA7UXyyg8fIzDoWHeBaDN4tQdSvAVdU1Aok+nsNTipIEVnkywo/FHatVkBoIhnFisOBoZxcGtQd4B0GYJNZsDSiAEadUBCkstPtN3Avs2Msa+Dt9XfxoFSNYF/Bh9gP0bOqHLAm2WUF1YQskwrVFYPWkf3h1iXwbvqGfFPSGW9Eah8HSS9fuZDnS32f71m8KFY7xs/QZyu6TH2+2+FAAAAABJRU5ErkJggg==',
            'silk_app_xp': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFiSURBVBgZpcEhbpRRGIXh99x7IU0asGBJWEIdCLaAqcFiCArFCkjA0KRJF0EF26kkFbVVdEj6/985zJ0wBjfp8ygJD6G3n358fP3m5NvtJscJYBObchEHx6QKJ6SKsnn6eLm7urr5/PP76cU4eXVy/ujouD074hDHd5s6By7GZknb3P7mUH+WNLZGKnx595JDvf96zTQSM92vRYA4lMEEO5RNraHWUDH3FV48f0K5mAYJk5pQQpqIgixaE1JDKtRDd2OsYfJaTKNcTA2IBIIesMAOPdDUGYJSqGYml5lGHHYkSGhAJBBIkAoWREAT3Z3JLqZhF3uS2EloQCQ8xLBxoAEWO7aZxros7EgISIIkwlZCY6s1OlAJTWFal5VppMzUgbAlQcIkiT0DXSI2U2ymYZs9AWJL4n+df3pncsI0bn5dX344W05dhctUFbapZcE2ToiLVHBMbGymS7aUhIdoPNBf7Jjw/gQ77u4AAAAASUVORK5CYII=',
            'silk_app_double': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGnSURBVDjLnZOxilNBGIW/mXt3CZsYQQtjJYqPkE4L8Q20WARbmxWEFQvBXrByQdDKF3CL1QcQH8DOKmVIkWIFbdybTe7M/x+Lm+zeFELcAz/DwJnD4eOf8OD5p4d37w2f/qrUwR25k3PG5cgMl5AZ5k5/O81Ho+mHo7e7RyxVDu8M97c63TjosIk61cz2gfOAWVKc/T5hU50mxfa9lInXj29vHPDkzYT1ADkAi2x8/jq6fpy7N37+8eJfPHqX+zx7/1397VSNRtOXJRIAMcB4tnOr19thcHWjMt1qZu9KcwMghEBVi+o/eZSW81nARXiUOaXzgBYPuTCH7I65Y1nNyKlN3BxcwtwoLTUNItDmoRhQECWRECIhGKEQhUfK3Pg8G+V0PPm2d5Du5zpxZXDtrA0BCoEkCkEMBWUAC8Ji09TNG8NqXnz8IUnK7sruSmaqzTQ30yIlndZJszrpZJ4kSY9efVnfqjaP9hmBECNFEQkxEIuVP1O2A9Z4LB8Xy3OlrbbfbD1gOp4c7h2k3VwnzAx3Jy0WzY90Q6ZmK93xBsNh0JL8RfUXD1Ut4VHY1QEAAAAASUVORK5CYII=',
            'silk_font': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHJSURBVDjLY/j//z8DJZiBZgY4tN9wcO6+0erZd2uKc+fNfoeWGxMcW27Msiq+3GWUdIZXL/okI14D7JqvB+csf3Rv4p6X//t3Pf/fvf35/8Ilj3471V3bph9zmougC6xrr8mETbu7q3jl40/FKx5+LVzy8Ltd+eUZBvGnOYjygk3llfKCZY++u3fcWutcd21B07on/61yz88kKgwsCi8qJc++9yhu2p37ppnnQ4C4oWblo/9WOReXEjTANOsCs1PD9VVZ8+9/N0k7m6Yfe5LLOPFMR+Wyh/9dqq5eUvc6xIbXALOs8zEZc+9/C+q+ddEw/rSfXuRxLfP0swuqgAYEt934pOq2nxenAUbJZ0TjJt9+Vbn80X+v5huXrbLOb7LMOLfVterqjcYVj/+Htd38qey4TxqrAQaxpxntSy7PBvnVPO0MSmCZJ5/ZWL7g/v+ozlv/lex2K2EYoB9zigsYPS6lSx7+j+i59UYn6JgtTIGK635hdY/D9dnT7vxP6L/9X9F+b4icxTYmFAMsMs6ti+2/9S9hwu3/Ac3X32oHHOlVdtoroGS/R0vb9/Aip8ILrwLrrv33rbn63zD02F5Zy22GtM8LdDMAACVPr6ZjGHxnAAAAAElFTkSuQmCC',
            'silk_paintcan': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJVSURBVDjLlZPbS5NhHMd3tbvyov6HIJRuhKAFgRci5GXYVQkG0c6HJGvD1FVMjdxC22wlQ9iG7uBh0rtDmxtb77vFoh2c7KgMtiGbU9xdgezb3hf0Ii3cxZfngef5fn6H5/ewALD+Vv8Upeh7HfzdM+pb4QwT7PPunOg8M7tlPh63JtE/4UM3f7WnLUDL3NE7vgmFKYbeF050Di3dbQvQSrvjzogTIm0Yt0WrePp25VNbAHcgrLopXMOgyo/uR8v4bAnAbrdLLwSIRCLK1HYaHKEdnQ9MuHZ/Edv5MpYcHljc1K9Fgvo+uxqanLYEr5wBhMNhZTqdRr1ex6jOBz8VxzONC+VyGQcHB5g3rcFGZWH+lscrc9ArWdjseqzzXWLMFEWdmnO5HEwbEYzpvmKZ+IFKpYJSqQS/3w/l+4XmlCXYnHGmMfTBOzyg9lxmkSQ5RpsbjQYKhQKy2Syz7u/vM0Z6T5+73W44nU7IlOrmS9tPPJn3VfsmXVdZLfKbra0tVKtV7O7uYmdnh8mEBtCwVCqFRCIBgiCg0Wggk8ko7sdNCMwJ3JogRpgSHA6HOhqN4ujoCIeHh6jVashkMkgmk4jH4wgEApibm4NUKqVEIhH74awXrfSPbyi+dJ020Wg0vguFQtjb20M+n2eixmIxBqDX6+nIpFAoZMb63owHHCXhOvOMWq1W7fF4UCwWQZdFN9RqtdKRSYFAcPonrj/fGPznIKlUKvX6+jrTfZvNBolEQvL5fPaFJ5GWXC5XGwwGiMViksfjtfcbT9Rq1gCXy/2vmdYfaGviUGKvapgAAAAASUVORK5CYII=',
            'agree': 'fp/ratings/tick.png',
            'disagree': 'fp/ratings/cross.png',
            'ref_ban': 'data:image/png;base64,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',
            'ref_unban': 'data:image/png;base64,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',
            'ref_perma': 'data:image/png;base64,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',
            'ref_regi': 'data:image/png;base64,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',
            'avatar_ban': 'data:image/png;base64,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',
	   },
        //default settings for a fresh install
        'SETTINGS': {
            'FO_ModList': ['TOGG', false, 'Mod list', 'Show menu listing moderators'],
            'FO_RetiredMods': ['TOGG', false, 'Show Retired Mods', 'Show moderators who are no longer moderators', ['FO_ModList']],
            'FO_OldEvents': ['TOGG', true, 'Old events', 'Show event links for retired event types'],
            'FO_Eventcntr': ['TOGG', false, 'Event Counter', 'Show a count for events at the top of the event page'],
            'FO_Eventpie': ['TOGG', false, 'Event Piechart', 'Show a piechart with events (requires event counter)'],

            'FO_PostStats': ['TOGG', true, 'Post Stats', 'Gather stats of posts'],
            'FO_PostScore': ['TOGG', true, 'Post Score', 'Show post scores at the top right of posts', ['FO_PostStats']],
            'FO_AutoHidePosts': ['TOGG', false, 'Autohide Posts', 'Automatically hide posts based on post score', ['FO_PostStats']],
            'FO_SuperHidden': ['TOGG', false, 'SuperHidden', 'Make hidden posts completely vanish', ['FO_PostStats']],
		      	'FO_ScoreIgnoreOP': ['TOGG', true, 'Ignore OP', 'When calculating post score, ignore the first post', ['FO_PostStats']],

            'FO_AwesomePanel': ['TOGG', true, 'Awesome Panel', 'Add buttons and menus to Posts'],
            'FO_BanAvatar': ['TOGG', true, 'Hover Avatars', 'Show regular avatars for banned users'],
            'FO_BanAvatarReplace': ['TOGG', false, 'New Ban Avatars', 'Replace default BAN with modified'],
            'FO_OnlineAva': ['TOGG', false, 'Online Avatars', 'Avatar Tooltips for online members'],

            'FO_RefCampBanInfo': ['TOGG', false, 'RefCamp Ban Info', 'Shows the recent mod action on threads in the refugee camp (golds/mods only)'],
            'FO_RefCampInfoCache': ['TOGG', true, 'RefCamp Info Cache', 'Caches the ban info to speed things up (disable if you want realtime updates)', ['FO_RefCampBanInfo']],
            'FO_MenuClicks': ['TOGG', false, 'Menu Closing', 'Clicking on empty space in menus closes them'],
            'FO_HistProf': ['TOGG', false, 'Extra Profile Tabs', 'Adds Eventlog and Post/Thread history to user profiles'],
            
			      'FO_CSSFIX': ['TOGG', true, 'Fix CSS', 'Facepunch\'s CSS is broken, but with this enabled it won\'t be!'],
			      'FO_TitleFix': ['TOGG', true, 'Title Size Fix', 'Titles are fucking huge, let\'s fix that.'],
            'FO_ShrinkLargeImage': ['TOGG', true, 'Shrink Large Images', 'Page stretching images suck!!'],
            
            'FO_FixShowGroups': ['TOGG', true, 'Fix showgroups.php', 'moderator list is fucked let\'s manually update it!!'],
            'FO_ShowGroupsRetired': ['TOGG', false, 'Retired Mods', 'Show retired modes in showgroups moderator list page'],
            
            'FO_GDFixer': ['TOGG', true, 'GD Fixer', 'Sort General Discussion correctly!!'],
			
            'FM_PostOptions': ['TOGG', false, 'Post Options', 'Allows you to set options for posts'],
            'FM_Debug': ['TOGG', false, 'Debug', 'Allows you to debug various features'],
            'FM_Style': ['TOGG', false, 'Style', 'Enables the Style Menu'],
            'FM_Extra': ['TOGG', false, 'Extra', 'Shows some extra links!'],
            
            'FD_PostStats': ['TOGG', false, 'Post Stats', 'Show ugly ass debug menu on posts', ['FM_Debug','FO_PostStats']],

            //links are special
            'FU_Memberlist': ['LINK', '/memberlist.php', 'Memberlist', 'Find a member'],
            'FU_CCOF': ['LINK', 'steam://friends/joinchat/103582791429848346', 'CCOF Chat', 'best group on steam'],
            'FU_Ticker': ['LINK', '/fp_ticker.php', 'Ticker', 'Recent happenings, yo', 'silk_book'],
            
            // post rankings
            'FL_BlueMember': ['INT', 0, 'Blue Member', 'One Time Bonus', ['FO_PostStats']],
            'FL_Moderator': ['INT', 1000, 'Moderator', 'One Time Bonus', ['FO_PostStats']],
            'FL_GoldMember': ['INT', 200, 'Gold Member', 'One Time Bonus', ['FO_PostStats']],
            'FL_BannedMember': ['INT', 0, 'Banned', 'One Time Bonus', ['FO_PostStats']],
            'FL_DefaultAva': ['INT', 0, 'Default Avatar', 'One Time Bonus', ['FO_PostStats']],
            'FL_YourPost': ['INT', 50, 'Your Post', 'One Time Bonus', ['FO_PostStats']],
            'FL_NewPost': ['INT', 0, 'New Post', 'One Time Bonus', ['FO_PostStats']],
            'FL_HasRatings': ['INT', 0, 'Has Ratings', 'One Time Bonus', ['FO_PostStats']],
            'FL_ThreadOP': ['INT', 50, 'Thread OP', 'One Time Bonus', ['FO_PostStats']],
            'FL_UserPostCnt': ['INT', 0.05, 'User Post Count', 'Post Stats', ['FO_PostStats']],
            'FL_MonthCount': ['INT', 1, 'User Month Count', 'Post Stats', ['FO_PostStats']],
            'FL_ImageCount': ['INT', -4, 'Post Image Count', 'Post Stats', ['FO_PostStats']],
            'FL_EmoteCount': ['INT', -50, 'Post Emote Count', 'Post Stats', ['FO_PostStats']],
            'FL_QuoteCount': ['INT', 0, 'Post Quote Count', 'Post Stats', ['FO_PostStats']],
            'FL_MediaCount': ['INT', 0, 'Post Media Count', 'Post Stats', ['FO_PostStats']],
            'FL_LinkCount': ['INT', 3, 'Post Link Count', 'Post Stats', ['FO_PostStats']],
            'FL_LineCount': ['INT', -0.5, 'Post Line Count', 'Post Stats', ['FO_PostStats']],
            'FL_BBCodeCount': ['INT', -2, 'Post BBcode Count', 'Post Stats', ['FO_PostStats']],

            //gonna need to fix the ratings to be fp2013
            'FL_RatingAgree': ['INT', 20, 'Agree', 'Ratings', ['FO_PostStats']],
            'FL_RatingFunny': ['INT', 20, 'Funny', 'Ratings', ['FO_PostStats']],
            'FL_RatingWinner': ['INT', 20, 'Winner', 'Ratings', ['FO_PostStats']],
            'FL_RatingDumb': ['INT', -50, 'Dumb', 'Ratings', ['FO_PostStats']],
            'FL_RatingDisagree': ['INT', 0, 'Disagree', 'Ratings', ['FO_PostStats']],
            'FL_RatingInformative': ['INT', 20, 'Informative', 'Ratings', ['FO_PostStats']],
            'FL_RatingFriendly': ['INT', 20, 'Friendly', 'Ratings', ['FO_PostStats']],
            'FL_RatingUseful': ['INT', 10, 'Useful', 'Ratings', ['FO_PostStats']],
            'FL_RatingOptimistic': ['INT', -15, 'Optimistic', 'Ratings', ['FO_PostStats']],
            'FL_RatingArtistic': ['INT', 15, 'Artistic', 'Ratings', ['FO_PostStats']],
            'FL_RatingLate': ['INT', -50, 'Late', 'Ratings', ['FO_PostStats']],
            'FL_RatingBadSpell': ['INT', -20, 'Bad Spelling', 'Ratings', ['FO_PostStats']],
            'FL_RatingBadRead': ['INT', -30, 'Bad Reading', 'Ratings', ['FO_PostStats']],
            'FL_RatingZing': ['INT', 20, 'Zing', 'Ratings', ['FO_PostStats']],
            'FL_RatingOIFY': ['INT', 10, 'OIFY', 'Ratings', ['FO_PostStats']],
            'FL_RatingProgKing': ['INT', 20, 'Programming King', 'Ratings', ['FO_PostStats']],
            'FL_RatingLuaKing': ['INT', 20, 'Lua King', 'Ratings', ['FO_PostStats']],
            'FL_RatingLuaHelp': ['INT', 10, 'Lua Helper', 'Ratings', ['FO_PostStats']],
            'FL_RatingMapKing': ['INT', 20, 'Mapping King', 'Ratings', ['FO_PostStats']],
            'FL_RatingSmarked': ['INT', 10, 'Smarked', 'Ratings', ['FO_PostStats']],
			'FL_RatingMoustache': ['INT', 50, 'Moustache', 'Ratings', ['FO_PostStats']],
            
            //custom style types
            //LEGEND => internal_reference: ['STYLE', css_properties, description, css_rule, css_display]
            'FS_Tawesomeness': ['STYLE', "background:#00BB00 none repeat scroll 0 0 !important;", 'Color for Stalked Threads', '.awesomeness > *', 'awesomeness'],
            'FS_TawesomenessA': ['STYLE', "background:#009900 !important;", 'Color for Stalked Threads (Alt)', '.awesomeness > *.alt', 'awesomeness'],
            'FS_TawesomenessC': ['STYLE', "color:#000 !important", 'TextColor for Stalked Threads', '.awesomeness > * a, .awsomeness > * a:active, .awesomeness > *.alt a, .awsomeness > *.alt a:active', 'awesomeness'],
            'FS_Tfaggotry': ['STYLE', "background:#FF0000 none repeat scroll 0 0 !important; color:#000 !important;", 'Color for Nuked Threads', '.faggotry > *', 'faggotry'],
            'FS_TfaggotryA': ['STYLE', "background:#DD0000 !important;", 'Color for Nuked Threads (alt)', '.faggotry > *.alt', 'faggotry'],
            'FS_TfaggotryC': ['STYLE', "color:#000 !important;", 'TextColor for Nuked Threads', '.faggotry > * a, .faggotry > * a:active, .faggotry > *.alt a, .faggotry > *.alt a:active', 'faggotry'],
            'FS_numberzero': ['STYLE', "background-color: rgba(255,255,255,220) !important; color:#222 !important;", 'Color for 0 Scores', '.numberzero', 'postscore numberzero'],
            'FS_numbernegative': ['STYLE', "background-color: rgba(255,60,70,220) !important; color:#FFFFFF !important;", 'Color for negative Scores', '.numbernegative', 'postscore numbernegative'],
            'FS_numberpositive': ['STYLE', "background-color: rgba(60,255,70,220) !important; color:#000000 !important;", 'Color for positive Scores', '.numberpositive', 'postscore numberpositive'],
            'FS_numberwtf': ['STYLE', "background-color:#000000 !important; color:#FFFFFF !important;", 'Color for Score Error', '.numberwtf', 'postscore numberwtf'],
            'FS_hidewarning': ['STYLE', "padding:10px !important; font-weight: bold !important; background: rgba(255,0,0,.1) !important;", 'Color for Hidden Post Message', '.posthiddenmessage', 'posthiddenmessage'],
            'FS_postscore': ['STYLE', "margin-left: 5px; padding: 4px; border: 1px solid #333; font-size: 120%; float:right;", 'Generic postscore class', '.postscore' ,'postscore'],
            'FS_postpanel': ['STYLE', "border-width:1px; padding:7px; margin:0; opacity:0.94; z-index:99;", 'Generic post panel', 'div.postpanel' ,'postpanel'],
            'FS_menubutton': ['STYLE', "float:right; cursor:pointer; display:inline-block; padding-bottom:5px; padding-top:5px; margin-top:5px;", 'Buttons in popup menus', '.FR_Menu_Foot .button', 'button'],
            'FS_modlistEntry': ['STYLE', "overflow:hidden; height:auto; text-align: left;", 'Row color for modlist entry', '#event_types .modlistEntry' ,''],
            'FS_modlistEntryA': ['STYLE', "background: rgba(0,0,0,.07);", 'Alternate row color for modlist entry', '#event_types .modlistEntry:nth-child(odd) .wrapper' , ''],
            'FS_modlistEntryFirst': ['STYLE', "margin-top:10px;", 'First entry of modlist', '#event_types .modlistEntry:first-of-type' ,''],
            'FS_modlistOldMod': ['STYLE', "background: #ddd;", 'Retired mods in the modlist', '#event_types .retired' ,''],
            'FS_usersetting': ['STYLE', "color:#000; overflow:hidden; height:auto; display:inline-block;", 'Generic usersetting class', '.usersetting' ,'usersetting'],
            'FS_boolfalse': ['STYLE', "background: url('/fp/ratings/cross.png'); width:16px; height:16px; color: transparent;", 'What a "false" boolean looks like', '.boolfalse' ,'usersetting boolfalse'],
            'FS_booltrue': ['STYLE', "background: url('/fp/ratings/tick.png'); width:16px; height:16px; color:transparent;", 'What a "true" boolean looks like', '.booltrue' ,'usersetting boolfalse'],
			'FS_usersettingContainer': ['STYLE', "margin: 5px 3px;", 'Style for usersetting containers', '.usersetting_container' , 'usersetting_container'],
			'FS_usersettingHeader': ['STYLE', "font-size: 15px; font-weight: bold; margin-top:3px; padding:3px 5px; background: rgb(40, 144, 226); color:#fff;", 'Changes style of headers that appear in options menus', '.usersetting_header', 'usersetting_header'],
			'FS_eventtotals': ['STYLE', "overflow:hidden; height:auto;", 'Style for eventtotals box', '.eventTotals', ''],
			'FS_canvas': ['STYLE', "position:relative; z-index: 0;", "Fixes canvas from being fucking retarded", '.eventTotals canvas', ''],
            'FS_showgroups1': ['STYLE', "margin-bottom:3em;", 'css padding margin thing because lol vbulletin', 'div.usergroup', ''],
            'FS_showgroups2': ['STYLE', "margin-bottom:5px;", 'make items have margin', '.blockbody .groupbit', ''],
            'FS_showgroups3': ['STYLE', "padding-bottom:5px;", 'padding on bottom', '.block ol.blockbody', ''],
            'FS_showgroups4': ['STYLE', "max-width:80px; max-height:80px;", 'avatar fixes for showgroups', '.block ol.blockbody .avatarlink img', ''],
            'FS_showgroups5': ['STYLE', "width:80px; height:80px;", 'more avatar fix', '.block ol.blockbody .avatarlink', ''],
            'FS_showgroups6': ['STYLE', "min-height:80px; padding-left: 100px;", 'change shit idk', '.groupbit', ''],
            'FS_showgroups7': ['STYLE', "padding:10px 5px;", 'fix padding errors', '.groupbit .tools', ''],
            'FS_showgroups8': ['STYLE', "text-decoration: none; -moz-border-radius:3px; -webkit-border-radius:3px; background-color:#ddd; border:1px solid rgba(0,0,0,0.1); border-radius:3px; line-height:20px; padding:1px 3px; display:inline-block; margin:5px 2px;", 'tools for mods', '.groupbit .tools a', ''],
            'FS_showgroups9': ['STYLE', "vertical-align:middle; margin-right: 2px;", 'fix tools for mods', '.groupbit .tools a img', '']
		},
        //Setting accessors
        getBool: function( myvar ) {
            if ( ( localStorage.getItem(myvar) === null  ) || ( localStorage.getItem(myvar) === '') ){
                if ( this.SETTINGS[myvar] ){ return this.SETTINGS[myvar][1]; }
                else { return false; }
            } else {
                if (localStorage.getItem(myvar) === '1'){ return true; }
                else { return false; }
            }
        },
        getInt: function( myvar ) {
            if ( !localStorage.getItem(myvar) ){
                if ( this.SETTINGS[myvar] ){
                    return this.SETTINGS[myvar][1];
                } else {
                    return 1;
                }
            } else {
                return parseFloat( localStorage.getItem(myvar) );
            }
        },
        getString: function( myvar ) {
            if ( localStorage.getItem(myvar) === null ) {
                if ( this.SETTINGS[myvar] ){
                    return this.SETTINGS[myvar][1];
                } else {
                    return myvar;
                }
            } else {
                return localStorage.getItem(myvar);
            }
        },
        getArray: function( myvar ) {
            if ( ( localStorage.getItem(myvar) === null  ) || ( localStorage.getItem(myvar) === '') ){
                if ( this.SETTINGS[myvar] ){
                    return this.SETTINGS[myvar][1];
                } else {
                    return ['yup', 'this', 'is', 'fucked'];
                }
            } else {
                return localStorage.getItem(myvar).split(',');
            }
        },
        setInt: function(usersetting, settingvar){
			try{
                localStorage.setItem(usersetting, settingvar);
            } catch (e) {
				console.log("Error: " + e);
			}
        },
        setString: function(usersetting, settingvar){
            try{
                localStorage.setItem(usersetting, settingvar);
            } catch (e) {
				console.log("Error: " + e);
			}
        },
        setArray: function(usersetting, settingvar){
            try{
                return localStorage.setItem(usersetting, settingvar.toString());
            } catch (e) {
				console.log("Error: " + e);
			}
        },
        setBool: function(usersetting, settingvar){
            try{
                if (settingvar){
                    localStorage.setItem(usersetting, '1');
                } else {
                    localStorage.setItem(usersetting, '0');
                }
            } catch (e) {
				console.log("Error: " + e);
			}
        },
        deleteAll: function(){
            try {
                for (var prop in FR_CFG.SETTINGS) {
                    if (FR_CFG.SETTINGS.hasOwnProperty(prop)) {
                        localStorage.removeItem(prop);
                    }
                }
            } catch (e) {
				console.log("Error: " + e);
			}
        },
        //Easy Settings
        toggleBool: function(usersetting, chngedisp){
            this.setBool(usersetting, !this.getBool(usersetting));
            if(chngedisp){
                //alert(chngedisp.textContent);
                chngedisp.removeChild(chngedisp.lastChild);
                chngedisp.innerHTML += this.getBoolDisplay(usersetting);
            }
        },
        promptInt: function(usersetting, chngedisp){
            var newint = prompt('Enter new rating', this.getInt(usersetting));
            var sanity = parseInt( newint, 10 );

            if ( FR_FUN.isNumber(sanity) ) {
                this.setInt(usersetting, newint);
                if(chngedisp){
                    //alert(chngedisp.textContent);
                    chngedisp.removeChild(chngedisp.lastChild);
                    chngedisp.innerHTML += this.getIntDisplay(usersetting);
                }
            }
        },
        listManage: function( thelist, theuser ) {
            var realshitlist = this.getArray(thelist);
            if (!theuser) {
                theuser = prompt("Enter Username Here", "Type here");
            }
            var finished = false;
            var willyou = false;
            for (var x=0; x<realshitlist.length; x++) {
                var thisblistitem = realshitlist[x];
                if ( theuser === thisblistitem ) {
                    willyou = confirm('Already in the list, remove?');
                    if (willyou){
                        alert('Removed ' + theuser);
                        realshitlist.splice(x,1);
                        this.setArray(thelist, realshitlist );
                    } else {
                        alert('Keeping ' + theuser);
                    }
                    finished = true;
                }
            }
            if ( !finished ) {
                willyou = confirm('Add to Filterlist?');
                if (willyou){
                    realshitlist[realshitlist.length] = theuser;
                    alert('Added ' + theuser);
                    this.setArray(thelist, realshitlist );
                } else {
                    alert('Not adding ' + theuser);
                }
            }
        },
        //Display Crap
        getIntDisplay: function(usersetting){
            var thenumber = FR_CFG.getInt(usersetting);
            if (thenumber === 0){
                return '<span class="usersetting number0">'+thenumber+'</span>';
            } else if (thenumber > 0){
                return '<span class="usersetting numberpos">'+thenumber+'</span>';
            } else {
                return '<span class="usersetting numberneg">'+thenumber+'</span>';
            }
        },
        getBoolDisplay: function(usersetting){
            var thebool = FR_CFG.getBool(usersetting);
            if (thebool){
                return '<span class="usersetting booltrue">Enabled</span>';
            } else {
                return '<span class="usersetting boolfalse">Disabled</span>';
            }
        }
    };
}

// general functions and variables for internal use
function FR_FUN_CREATE() {
    
   return {
        //the various menus that can appear in the navigation bar
        'MENU': {
            'OPTIONS': {
                'Config Settings': ['FM_PostOptions','FM_Style','FM_Debug'],
                'Misc': ['FO_GDFixer','FO_HistProf','FO_OnlineAva','FO_RefCampBanInfo','FO_RefCampInfoCache','FO_MenuClicks','FO_FixShowGroups','FO_ShowGroupsRetired','FM_Extra'],
				'Posts': ['FO_PostStats', 'FO_AwesomePanel', 'FO_BanAvatar', 'FO_BanAvatarReplace', 'FO_PostScore', 'FO_AutoHidePosts', 'FO_SuperHidden'],
				'Eventlog': ['FO_OldEvents','FO_Eventcntr','FO_Eventpie'],
				'Style': ['FO_CSSFIX', 'FO_TitleFix', 'FO_ShrinkLargeImage'],
				'Debug': ['FD_PostStats']
			},
            'POST': {   
				'Settings': ['FO_ScoreIgnoreOP'],
				'One Time bonus': ['FL_BlueMember', 'FL_Moderator','FL_GoldMember','FL_BannedMember','FL_DefaultAva','FL_YourPost','FL_NewPost','FL_HasRatings','FL_ThreadOP'],
                'Post Stats': ['FL_UserPostCnt','FL_MonthCount','FL_ImageCount','FL_EmoteCount','FL_QuoteCount','FL_MediaCount','FL_LinkCount','FL_LineCount','FL_BBCodeCount'],
                'Ratings': ['FL_RatingAgree','FL_RatingFunny','FL_RatingWinner','FL_RatingDumb','FL_RatingDisagree','FL_RatingInformative','FL_RatingFriendly','FL_RatingUseful','FL_RatingOptimistic','FL_RatingArtistic','FL_RatingLate','FL_RatingBadSpell','FL_RatingBadRead','FL_RatingZing','FL_RatingOIFY','FL_RatingProgKing','FL_RatingLuaKing','FL_RatingLuaHelp','FL_RatingMapKing','FL_RatingSmarked', 'FL_RatingMoustache']
            },
            'STYLES': {
                //'Threads': ['FS_Tawesomeness','FS_TawesomenessA','FS_TawesomenessC','FS_Tfaggotry','FS_TfaggotryA','FS_TfaggotryC'],
                'Posts': ['FS_numberzero','FS_numbernegative','FS_numberpositive','FS_numberwtf','FS_hidewarning']
            },
            'EXTRA': {
                'Extra': ['FU_Ticker', 'FU_Memberlist','FU_CCOF']
            }
        },
        'GLOBALS': {
            //Oify Detect
            'Debug': false,
            'Oify': false,
            'REFCamp': false,
            'Chat': false,
            // forum
            'ForumDisplay': false,
            'SubforumName': "",
            'SubforumID': 0,
            'SubForumMakeThread': false,
            // thread
            'ShowThread': false,
            'ShowThreadID': 0,
            'NewReply': false,
            'NewThread': false,
            'EditPost': false,
            //eventlog
            'EventLog': false,
            'EventLogMEM': 0,
            'EventLogType': false,
            //PM
            'Private': false,
            //specialpages
            'MemberList': false,
            'MemberPage': false,
            'MemberID': 0,
            'WhoisOnline': false,
            'Poll': false,
            'Notice': false,
			'UserCP': false,
            'ShowGroups': false,
            //internal usage only
            'URLREWRITE': false,
            'INITDONE': false,
        },
        'MODLIST': {
			'ADMINS': [
				["1", "garry"], ["205082", "gwilty"]
			],
			'CURRENT': [
				["221011", "Asaratha"],["68432","AshMan"],
                ["228576", "BANNED USER"],["205107", "Big Dumb American"],["415997", "Blazyd"],
                ["50699", "Craptasket"],["118251", "cosmic duck"],
				["54751", "dai"],["16502", "Dav0r"],
                ["11553", "GunFox"],["35178", "Gurant"],["97296", "Grea$eMonkey"],
				["63187", "Hexxeh"],
                ["56665", "Jaanus"],["63088", "JohnnyMo1"],
                ["171108","Megafan"],
                ["544459","NiandraLades"],
                ["1800", "Orkel"],
                ["8190", "postal"],["3639", "PLing"],
				["103553", "rilez"],["37601", "Rusty100"],
                ["36567", "Seiteki"],["175313", "Starpluck"],["11190", "SteveUK"],["72507", "Swebonny"],
                ["60814", "UberMensch"],["2917", "Uberslug"],
                ["112031", "verynicelady"]
			],
						
						
			'RETIRED': [
				["94385", "!LORD-M!"],
				["21357", "Alucard"],["6325", "Amnizu"],["35471", "Anders1"],["3270", "andyvincent"],["83152", "Autumn"],
				["26237", "beatzdawg"],["85051", "Benji"],["25373", "birkett"],
				["4201", "Captain Bald"],["15625", "chris0132"],["89526", "compwhizii"],["2416", "Crocodile_Hunter"],
				["89131", "Daimao"],["9805", "DaveP"],["5945", "DEADBEEF"],["22807", "Doncommie"],["22705", "doomkiwi"],["8678", "Dragon"],["6100", "drive_the_hive"],
				["7", "Firerain"],["2818", "Fragmatic"],["9484", "frasierdog"],
				["66253", "Greeman"],
				["762", "Hezzy"],
				["7814", "ItchyBarracuda"],
				["49584", "jess"],["5133", "Jimbomcb"],["12910", "Jinto"],["100256", "JLea"],["20640", "Jovan"],
				["56575", "Kazumi"],["5843", "kenthebear"],["9784", "KmartSqrl"],
				["23438", "lazyV"],["4387", "leelad"],["245715", "Lithifold"],["172966", "Lithifold2"],["21688", "Love"],
				["88487", "mahalis"],["185135", "MaxOfS2D"],["632", "Megiddo"],["50757", "mikfoz"],["101037", "mm3guy"],["8217", "Monkeyjoe"],["9571", "Moocow"],["207512","mr apple"],["20274", "mrchaos58"],
				["15551", "n42"],["191335", "Ninja101"],["153890", "Nori"],
				["89893", "Overv"],
				["11478", "PacificV2"],["242336", "Pascall"],["223542", "Perfumly"],["12066", "Pr3dator"],["44933", "psp401.com"],
				["185867", "RawRKat!90"],["12", "RayvenQ"],["1349", "ReaperSWE"],["70374", "Roo-kie"],
				["53097", "Sgt.Sgt"],["59965", "SilverHammer"],["90601", "Spork-Juct"],
				["77841", "teh_Shane"],["86848", "Terrenteller"],["2843", "TH89"],["5532", "TheBlackViper"],["5586", "theJ89"],["15103", "TIHan"],["202", "Tokit"],
				["12042", "ventilated"],
				["79099", "wind8ws"],
				["54", "Zero Cool"],
			],
						
		},
		
		//temporary storage for the page only
        'storage': {},
        toMenuItem: function(usersetting){
            if ( FR_CFG.SETTINGS[usersetting] ){
                var rtnstr = "";
                
                //links are a special case
                if( FR_CFG.SETTINGS[usersetting][0] === 'LINK'){
                    var myIcon = FR_CFG.SETTINGS[usersetting][4];
                    if (myIcon === undefined) { myIcon = 'silk_book_open'; }
					return "<div class='usersetting_container'><a class='usersetting_link' href='"+FR_CFG.SETTINGS[usersetting][1]+"'><img class='navlinkicon' src='"+FR_CFG.ICONS[myIcon]+"'>"+FR_CFG.SETTINGS[usersetting][2]+"</a> - "+FR_CFG.SETTINGS[usersetting][3]+"<br></div>";				
                //so are css
                } else if( FR_CFG.SETTINGS[usersetting][0] === 'STYLE'){
                    //rtnstr += "<span>HERP DERP</span>";
					rtnstr += "<div class='usersetting_container'>";
                    rtnstr += "<span class='usersetting_css_title'>"+FR_CFG.SETTINGS[usersetting][2]+":</span><br />";
                    rtnstr += "<span class='"+FR_CFG.SETTINGS[usersetting][4]+"'>TEST</span>";
                    rtnstr += "<input type='text' class='usersetting inputtext' size='35' value='"+FR_CFG.getString(usersetting)+"'maxlength='120'/>";
                    rtnstr += '<div class="button" class="userprof_button inputbutton" href="javascript:void(0);" onclick="FR_CFG.setString("'+usersetting+'", this.previousSibling.value);return false;">Save</div>';
                    rtnstr += "</div>";
					return rtnstr;
                }

                //dependency check
                var dependActive = true;
                if( FR_CFG.SETTINGS[usersetting][4] !== undefined ) {
                    for(var dep in FR_CFG.SETTINGS[usersetting][4]){
                        if( !FR_CFG.getBool(FR_CFG.SETTINGS[usersetting][4][dep]) ) dependActive = false;
                    }
                }
                if(dependActive) { //if all of our dependencies are active
					rtnstr += "<div class='usersetting_container'>";
                    //bool
                    if( FR_CFG.SETTINGS[usersetting][0] === 'TOGG'){                    
                            rtnstr += '<a href="javascript:void(0);" onclick="FR_CFG.toggleBool(\''+usersetting+'\', this);return false;" title="'+FR_CFG.SETTINGS[usersetting][3]+'">'+FR_CFG.SETTINGS[usersetting][2]+': '+FR_CFG.getBoolDisplay(usersetting)+'</a><br />';
                    //int
                    } else if( FR_CFG.SETTINGS[usersetting][0] === 'INT'){
                        rtnstr += '<a href="javascript:void(0);" onclick="FR_CFG.promptInt(\''+usersetting+'\', this);return false;">'+FR_CFG.SETTINGS[usersetting][2]+': '+FR_CFG.getIntDisplay(usersetting)+'</a><br />';
                    //filter array
                    } else if( FR_CFG.SETTINGS[usersetting][0] === 'LIST'){
                        var naughtylist = FR_CFG.getArray(usersetting);
                        for (var y=0; y<naughtylist.length; y++) {
                            rtnstr += "<a href=\"javascript:void(0);\" style='"+FR_CFG.SETTINGS[usersetting][4]+"' onclick='FR_CFG.listManage(\""+usersetting+"\",\""+naughtylist[y]+"\");return false;'>"+naughtylist[y]+"</a>, ";
                        }
                    }
					rtnstr += "</div>";
                }
				
                return rtnstr;
            }
        },
        ////utility functions
        //check if variable is a number
        isNumber: function(n) {
            return !isNaN(parseFloat(n)) && isFinite(n);
        },
        //check if array contains element even partially
        arrayHas: function(sourcee, obj){
            var i = sourcee.length;
            while (i--) {
                if (obj.indexOf(sourcee[i]) !== -1) {
                    return true;
                }
            }
            return false;
        },
        //source = what you want to compare
        //arr = array containing shit to compare
        arrayContainsEnd: function (arr, source) {
            var i = arr.length;
            while (i--) {
                if (source.indexOf(arr[i], source.length - arr[i].length) !== -1) {
                    return true;
                }
            }
            return false;
        },  
        //remove up until substring if contains
        removeIfContains: function(original, substr) {
            var idx = original.indexOf(substr);
            if (idx !== -1) {
                return original.substr(0,idx) + original.substr(idx+substr.length);
            } else {
                return original;
            }
        },
		//find all occurrences of substring in string
		findOccurrences: function(string, subString, allowOverlapping){
			string+=""; subString+="";
			if(subString.length<=0) return string.length+1;

			var n=0, pos=0;
			var step=(allowOverlapping)?(1):(subString.length);

			while(true){
				pos=string.indexOf(subString,pos);
				if(pos>=0){ n++; pos+=step; } else break;
			}
			return(n);
		},
        getQueryParams: function(qs) {
            var vars = {};
            var parts = qs.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
                vars[key] = value;
            });
            return vars;
        },
        //generic functions
        toggleElementEX: function( event, id ) {
            var panel = document.getElementById( id );
            if (!panel) { return false; }

            if (!event){
                if (panel.style.display === 'none') {
                    panel.style.display = 'block';
                } else {
                    panel.style.display = 'none';
                }
            } else {
                if ( (event.target === panel) || (event.target.parentNode === panel) ){
                    if (panel.style.display === 'none') {
                        panel.style.display = 'block';
                    } else {
                        panel.style.display = 'none';
                    }
                }
            }

            return false;
        },
        toggleDropdown: function( id, topc, leftc ) {
            
            var panel = document.getElementById( id );
            if (!panel) { return false; }

            if (panel.style.display === 'none') {
                panel.style.display = 'block';
                panel.style.position = 'absolute';
                panel.style.top = topc + 'px';
                panel.style.left = leftc + 'px';
            } else {
                panel.style.display = 'none';
            }

            return false;
        },
        togglePoast: function( id, reason ) {
			var myhidden;
            if (!reason) { reason = "This post was hidden!"; }
            
            //check to see if the post exists
            var targetpost = document.getElementById(id);
            if (!targetpost) { return false; }
			
			//check if we've hidden before
			myhidden = document.getElementById(id+"_hidden");
			
			// if our post has not been hidden before
			if(!myhidden){
				var msg = document.createElement("div");
				msg.className = "posthiddenmessage";
				msg.innerHTML = reason;
				msg.id = id+"_hidden";
				targetpost.childNodes[5].appendChild(msg); //append to postdetails
			}
			
			//if our post is currently hidden
			if (targetpost.className.indexOf(" hiddenPost") !== -1) {
				targetpost.className = targetpost.className.split("hiddenPost")[0];
				document.getElementById(id+"_hidden").style.display = "none";
				targetpost.childNodes[5].childNodes[1].style.display = "inherit"; //postdetails userinfo
				targetpost.childNodes[5].childNodes[3].style.display = "inherit"; //postdetails postbody
				targetpost.childNodes[7].style.display = "inherit"; //postfoot
				targetpost.childNodes[5].setAttribute("onclick", "");

			}
			else {
				targetpost.childNodes[5].childNodes[1].style.display = "none"; //postdetails userinfo
				targetpost.childNodes[5].childNodes[3].style.display = "none"; //postdetails postbody
				targetpost.childNodes[7].style.display = "none"; //postfoot
				targetpost.className += " hiddenPost";
				document.getElementById(id+"_hidden").style.display = "inherit";
				targetpost.childNodes[5].setAttribute("onclick", "FR_FUN.togglePoast(\'"+id+"\')");
			}

			/* OLD METHOD BELOW */
            //if we currently have this post in temporary storage
            /*if(FR_FUN.storage[id]){
                if (targetpost.className.indexOf("hiddenPost") !== -1) {
                    targetpost.outerHTML = FR_FUN.storage[id].postorig;
                } else {
                    targetpost.outerHTML = FR_FUN.storage[id].postmod;
                }
            } else {
                FR_FUN.storage[id] = {};
                FR_FUN.storage[id]['postorig'] = targetpost.outerHTML;
                
                mypostmod = document.getElementById(id);
                mypostmod.className += " hiddenPost";
                mypostmod.childNodes[5].innerHTML = "<div class=\"posthiddenmessage\">"+reason+"</div>";
                mypostmod.childNodes[5].setAttribute("onclick", "FR_FUN.togglePoast(\'"+id+"\' )");
                mypostmod.removeChild(mypostmod.childNodes[7]);
               
                FR_FUN.storage[id]['postmod'] = mypostmod.outerHTML;
            }*/
            return false;
        },
        calcPolarity: function(thenumber){
            
            if (thenumber >= 1){
                return "numberpositive";
            } else if (thenumber <= -1){
                return "numbernegative";
            } else {
                return "numberzero";
            }
        },
		randColor: function(){
			return ""+Math.floor(Math.random()*256)+","+Math.floor(Math.random()*256)+","+Math.floor(Math.random()*256);
		},
		
        makeAdminList: function(dlist, nameofheader, ismod){
            var newdiv = document.createElement("div");
            newdiv.className = "block usergroup boxshadow";
            newdiv.innerHTML = "<h2 class=\"blockhead\">"+nameofheader+"</h2>\r\n";

            var list = document.createElement("ol");
            list.className = "blockbody";
            
            for (var i = 0; i < dlist.length; i++) {
                var moduid = dlist[i][0];
                var modname = dlist[i][1];

                var item = document.createElement("li");
                item.className = "groupbit";
   
                //name
                item.innerHTML += '<h4 class="blocksubhead"><a class="username" href="member.php?u='+moduid+'">'+((ismod)?'<span style="color:#00aa00;font-weight:bold;">'+modname+'</span>':modname)+'</a></h4>';
                //avatar
                item.innerHTML += '<a href="member.php?u='+moduid+'" class="avatarlink"><img src="image.php?u='+moduid+'" class="userlist_avatar_'+moduid+'" alt=""></a>';

                var statsdiv = document.createElement("div");
                statsdiv.className = "stats tools";
                statsdiv.innerHTML += '<a href="private.php?do=newpm&u='+moduid+'" rel="nofollow"><img title="Send PM to '+modname+'" src="/fp/navbar/pm.png">Send PM</a>';
                statsdiv.innerHTML += '<a href="/fp_events.php?user='+moduid+'"><img width="16" height="16" border="0" src="/fp/navbar/events.png" title="'+modname+' events">Events</a>'+
                    '<a href="/fp_events.php?type=closed&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/closed.png" title="'+modname+' closed">Closed Thread</a>'+
                    '<a href="/fp_events.php?type=opened&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/opened.png" title="'+modname+' opened">Opened Thread</a>'+
                    '<a href="/fp_events.php?type=ban&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/ban.png" title="'+modname+' ban">Bans</a>'+
                    '<a href="/fp_events.php?type=unban&user='+moduid+'"><img width="16" height="16" border="0 "src="/fp/events/unban.png" title="'+modname+' unban">Unbans</a>'+
                    '<a href="/fp_events.php?type=ddt&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/ddt.png" title="'+modname+' ddt">DDT</a>'+
                    '<a href="/fp_events.php?type=rename&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/rename.png" title="'+modname+' rename">Renamed Thread</a>'+
                    '<a href="/fp_events.php?type=delhard&user='+moduid+'"><img width="16" height="16" border="0"  src="/fp/events/delhard.png" title="'+modname+' delhard">Delete Hard</a>'+
                    '<a href="/fp_events.php?type=delsoft&user='+moduid+'"><img width="16" height="16" border="0"  src="/fp/events/delsoft.png" title="'+modname+' delsoft">Delete Soft</a>'+
                    '<a href="/fp_events.php?type=pban&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/pban.png" title="'+modname+' pban">Permaban</a>'+
                    '<a href="/fp_events.php?type=capsfix&user='+moduid+'"><img width="16" height="16" border="0"  src="/fp/events/capsfix.png" title="'+modname+' capsfix" >Caps Fix</a>'+
                    '<a href="/fp_events.php?type=mov&user='+moduid+'"><img width="16" height="16" border="0" src="/fp/events/mov.png" title="'+modname+' mov">Moved Thread</a></div>';
                item.appendChild(statsdiv);

                list.appendChild(item);
            }
            newdiv.appendChild(list);
            
            return newdiv;
        },
            
        /*
            User Searching

            There is a hardcoded limit of 15 users
            and a minimum of 3 characters...
            how queer of you VB

            TODO:
                make it look less like shit
                the events portion slows this down like a mofo
        */
        findUser: function(frag){
            
            if ( frag.length <  3 ) { return; }

            var dongsparam="do=usersearch&fragment="+frag+"&securitytoken="+SECURITYTOKEN;
            var http = new XMLHttpRequest();
            http.open("POST", "/ajax.php", true);
            http.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");
            //http.setRequestHeader("Content-length", dongsparam.length);
            //http.setRequestHeader("Connection", "keep-alive");
            http.onreadystatechange = function() {
                if(http.readyState === 4 && http.status === 200) {
                    var mydoc = http.responseXML.documentElement;
                    var usrlst = mydoc.getElementsByTagName("user");

                    var mytargetnodeb = document.getElementById("memberlist");
                    mytargetnodeb.innerHTML += "<br />Found "+usrlst.length+" Users <br />";

                    for (var x=0; x<usrlst.length; x++) {
                        var theuid = usrlst[x].getAttribute("userid");
                        var theuname = usrlst[x].firstChild.textContent;

                        mytargetnodeb.innerHTML += '<a style="font-size: 15px;" href="/members/'+theuid+'-'+theuname+'">'+theuname+'</a>, ';
						FR_FUN.findUserB(theuid, theuname);




                        //cooldiv.innerHTML += '<a href="http://www.facepunch.com/members/'+theuid+'-'+theuname+'"><img style="background-image: url(http://static.facepunch.com/fp/navbar/events.png); border: 1px solid;" width="64" height="64" alt="'+theuname+'" src="http://avatars.fpcontent.net/image.php?u='+theuid+'" title="'+theuname+'"> </a>';
                    }
                }
            };
            http.send(dongsparam);
        },
        findUserB: function(uid, uname){
            
            var mblstb = document.getElementById("memberlistb");
            //alert(mblstb);
            if (mblstb !== undefined){
                var http = new XMLHttpRequest();
                http.open("GET", "/members/"+uid, true);
                http.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");
                //http.setRequestHeader("Connection", "keep-alive");
                http.onreadystatechange = function() {
                    if(http.readyState === 4 && http.status === 200) {
                        var cooldiv = document.createElement('div');
                        cooldiv.innerHTML = http.responseText;

                        //mblstb.appendChild(cooldiv);
                        var fetchinge = document.evaluate(".//div[contains(@id,'userinfoblock')]", cooldiv, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

                        if (fetchinge.snapshotItem(0) !== undefined){
                            if (fetchinge.snapshotItem(0).childNodes[1].className !== "avatar"){
                                fetchinge.snapshotItem(0).innerHTML = '<a title="'+uname+' Avatar" href="/members/'+uid+'-'+uname+'" class="avatar"><span class="avatarcontainer"><img id="user_avatar" src="/image.php?u='+uid+'"></span></a>' + fetchinge.snapshotItem(0).innerHTML;
                            }
                            fetchinge.snapshotItem(0).lastChild.previousSibling.innerHTML += '<li><a onclick="return OpenEventlog( \''+uid+'\' );" href="#"><img alt="Show Events" src="/fp/navbar/events.png" title="Show Events">View Events</a></li>';

                            while ( fetchinge.snapshotItem(0).parentNode.parentNode.childElementCount >= 4 ){
                                fetchinge.snapshotItem(0).parentNode.parentNode.removeChild( fetchinge.snapshotItem(0).parentNode.parentNode.lastChild );
                            }

                            mblstb.appendChild(fetchinge.snapshotItem(0).parentNode.parentNode.cloneNode(true));
                        }
                    }
                };
                http.send();
            }
        },
        avatarTool: function(event){
            
            var floatyimg = document.getElementById("FR_floatyimg");

            if (floatyimg === null){
                floatyimg = document.createElement('img');
                floatyimg.id = "FR_floatyimg";
                floatyimg.src = "/fp/events/pban.png";
                floatyimg.style.position = "absolute";
                floatyimg.style.left = (MouseX+11)+"px";
                floatyimg.style.top = MouseY+"px";
                floatyimg.style.display = "block";
                document.getElementById("bottom_box").appendChild(floatyimg);
            } else {
                floatyimg.style.left = (MouseX+11)+"px";
                floatyimg.style.top = MouseY+"px";
                floatyimg.style.display = "block";
            }

            // HACK: doesn't know about url rewrite
            if (event.target) {
                if (event.target.tagName === "A"){
                    floatyimg.src = "/image.php?u="+ parseInt(event.target.getAttribute("href").replace(/member\.php\?u=/, ""), 10 )+"&type=thumb";
                } else if (event.target.tagName === "FONT" || event.target.tagName === "B"){
                    floatyimg.src = "/image.php?u="+ parseInt(this.removeIfContains(event.target.parentNode.parentNode.getAttribute("href"), "member.php?u="), 10 )+"&type=thumb";
                } else if (event.target.tagName === "STRONG"){
                    floatyimg.src = "/image.php?u="+ parseInt(event.target.parentNode.getAttribute("href").replace(/member\.php\?u=/, ""), 10 )+"&type=thumb";
                }
            }
        },
        eventProf: function(uid, stype, spcial){ 
            
            var eventss, http;
            if(stype === 1){
                eventss = document.getElementById("view-event-inner");
                if (eventss !== undefined){
                    eventss.innerHTML = "WAITING...";
                    //if (eventss.textContent == "WAITING...")
                        http = new XMLHttpRequest();
                        if ( spcial === ""){
                            http.open("GET", "/fp_events.php?aj=1&user="+uid, true);
                        } else {
                            http.open("GET", "/fp_events.php?aj=1&type="+spcial+"&user="+uid, true);
                        }
                        http.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");
                        //http.setRequestHeader("Connection", "keep-alive");
                        http.onreadystatechange = function() {
                            if(http.readyState === 4 && http.status === 200) {
                                eventss.innerHTML = http.responseText;
                            }
                        };
                        http.send();
                }
            } else if( (stype === 2)|| (stype === 3) || (stype === 4)){
                eventss = undefined;

                if (stype === 2) {
                    eventss = document.getElementById("view-sthread-content");
                } else if (stype === 3) {
                    eventss = document.getElementById("view-spost-content");
                } else if (stype === 4) {
                    eventss = document.getElementById("view-simg-content");
                }

                if (eventss !== undefined){
                    if (eventss.textContent === "WAITING..."){
                        http = new XMLHttpRequest();
                        http.open("GET", "/search.php?search_type=1", true);
                        http.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");
                        //http.setRequestHeader("Connection", "keep-alive");
                        http.onreadystatechange = function() {
                            if(http.readyState === 4 && http.status === 200) {
                                var cooldiv = document.createElement('div');
                                cooldiv.innerHTML = http.responseText;

                                var fetchinge = document.evaluate(".//select[contains(@id,'forumchoice')]", cooldiv, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

                                if (fetchinge.snapshotItem(0) !== undefined){
                                    var xsp = fetchinge.snapshotItem(0).childElementCount *2;
                                    eventss.innerHTML = "";
                                    for (var x = 1; x < xsp; x++) {
                                        if ( (fetchinge.snapshotItem(0).childNodes[x].nodeType !== 3)  ){
                                            if ( (fetchinge.snapshotItem(0).childNodes[x].textContent.indexOf("Search All Open Forums") === -1) && ( fetchinge.snapshotItem(0).childNodes[x].textContent.indexOf("Search Subscribed Forums") === -1 ) ){

                                                if (stype === 2) {
                                                    eventss.innerHTML += '<div style="display: inline-block; float: none;" class="button"><a href="/search.php?do=finduser&userid='+uid+'&contenttype=vBForum_Post&forumchoice%5B%5D='+fetchinge.snapshotItem(0).childNodes[x].value+'&starteronly=1">Find threads in '+fetchinge.snapshotItem(0).childNodes[x].textContent+'</a></div><br />';
                                                    //eventss.innerHTML += '<div style="display: inline-block; float: none;" class="button"><a href="/search.php?do=finduser&userid='+uid+'&contenttype=vBForum_Thread&forumchoice[]='+fetchinge.snapshotItem(0).childNodes[x].value+'">Find threads in '+fetchinge.snapshotItem(0).childNodes[x].textContent+'</a></div><br />';
                                                } else if (stype === 3) {
                                                    eventss.innerHTML += '<div style="display: inline-block; float: none;" class="button"><a href="/search.php?do=finduser&userid='+uid+'&contenttype=vBForum_Post&showposts=1&forumchoice%5B%5D='+fetchinge.snapshotItem(0).childNodes[x].value+'">Find posts in '+fetchinge.snapshotItem(0).childNodes[x].textContent+'</a></div><br />';
                                                } else if (stype === 4) {
                                                    eventss.innerHTML += '<div style="display: inline-block; float: none;" class="button"><a href="/fp_images.php?u='+uid+'&f='+fetchinge.snapshotItem(0).childNodes[x].value+'">Find images in '+fetchinge.snapshotItem(0).childNodes[x].textContent+'</a></div><br />';
                                                }

                                            }
                                        }
                                    }
                                }
                            }
                        };
                        http.send();
                    }
                }
            }
        },
        
        buildScoreTable: function(PostTable){
            
            //filterlists
            var naughtylist = FR_CFG.getArray('FO_blacklist');
            var nicelist = FR_CFG.getArray('FO_whitelist');
            //Our Container
            var Scoredata = {};
            //user stuff

            var TotalScore = 0;
            Scoredata.UserPostCnt = FR_CFG.getInt("FL_UserPostCnt") * PostTable.UserPostCnt;
            TotalScore = TotalScore + Scoredata.UserPostCnt;
            Scoredata.MonthCount = FR_CFG.getInt("FL_MonthCount") * PostTable.MonthCount;
            TotalScore = TotalScore + Scoredata.MonthCount;

            //one time bonuses
            if (PostTable.Moderator){ Scoredata.Moderator = FR_CFG.getInt("FL_Moderator"); } else { Scoredata.Moderator = 0; }
            TotalScore = TotalScore + Scoredata.Moderator;
            if (PostTable.GoldMember){ Scoredata.GoldMember = FR_CFG.getInt("FL_GoldMember"); } else { Scoredata.GoldMember = 0; }
            TotalScore = TotalScore + Scoredata.GoldMember;
            if (PostTable.BannedMember){ Scoredata.BannedMember = FR_CFG.getInt("FL_BannedMember"); } else { Scoredata.BannedMember = 0; }
            TotalScore = TotalScore + Scoredata.BannedMember;
            if (PostTable.DefaultAva){ Scoredata.DefaultAva = FR_CFG.getInt("FL_DefaultAva"); } else { Scoredata.DefaultAva = 0; }
            TotalScore = TotalScore + Scoredata.DefaultAva;
            if (PostTable.YourPost){ Scoredata.YourPost = FR_CFG.getInt("FL_YourPost"); } else { Scoredata.YourPost = 0; }
            TotalScore = TotalScore + Scoredata.YourPost;
            if (PostTable.NewPost){ Scoredata.NewPost = FR_CFG.getInt("FL_NewPost"); } else { Scoredata.NewPost = 0; }
            TotalScore = TotalScore + Scoredata.NewPost;
            if (PostTable.HasRatings){ Scoredata.HasRatings = FR_CFG.getInt("FL_HasRatings"); } else { Scoredata.HasRatings = 0; }
            TotalScore = TotalScore + Scoredata.HasRatings;
            if (PostTable.BlueMember){ Scoredata.BlueMember = FR_CFG.getInt("FL_BlueMember"); } else { Scoredata.BlueMember = 0; }
            TotalScore = TotalScore + Scoredata.BlueMember;
            if (PostTable.IsOP ){ Scoredata.IsOP = FR_CFG.getInt("FL_ThreadOP"); } else { Scoredata.IsOP = 0; }
            TotalScore = TotalScore + Scoredata.IsOP;


            //lists
            /*if( FR_FUN.arrayHas(PostTable.UserName) ){
                Scoredata.Blacklisted = FR_CFG.getInt("FL_Blacklisted");
                PostTable.Blacklisted = true;
            } else {
                Scoredata.Blacklisted = 0;
                PostTable.Blacklisted = false;
            }
            TotalScore = TotalScore + Scoredata.Blacklisted;
            if( FR_FUN.arrayHas(PostTable.UserName) ){
                Scoredata.Whitelisted = FR_CFG.getInt("FL_Whitelisted");
                PostTable.Whitelisted = true;
            } else {
                Scoredata.Whitelisted = 0;
                PostTable.Whitelisted = false;
            }
            TotalScore = TotalScore + Scoredata.Whitelisted;*/

            //Post stuff
            Scoredata.ImageCount = FR_CFG.getInt("FL_ImageCount") * PostTable.ImageCount;
            TotalScore = TotalScore + Scoredata.ImageCount;
            Scoredata.EmoteCount = FR_CFG.getInt("FL_EmoteCount") * PostTable.EmoteCount;
            TotalScore = TotalScore + Scoredata.EmoteCount;
            Scoredata.QuoteCount = FR_CFG.getInt("FL_QuoteCount") * PostTable.QuoteCount;
            TotalScore = TotalScore + Scoredata.QuoteCount;
            Scoredata.MediaCount = FR_CFG.getInt("FL_MediaCount") * PostTable.MediaCount;
            TotalScore = TotalScore + Scoredata.MediaCount;
            Scoredata.LinkCount = FR_CFG.getInt("FL_LinkCount") * PostTable.LinkCount;
            TotalScore = TotalScore + Scoredata.LinkCount;
            Scoredata.LineCount = FR_CFG.getInt("FL_LineCount") * PostTable.LineCount;
            TotalScore = TotalScore + Scoredata.LineCount;
            Scoredata.BBCodeCount = FR_CFG.getInt("FL_BBCodeCount") * PostTable.BBCodeCount;
            TotalScore = TotalScore + Scoredata.BBCodeCount;
			
			//Look at each rating for this post, factor in its multiplier, then add that to the post score.
			if (PostTable.Ratings) {
				PostTable.Ratings.forEach(function(rating) {
					Scoredata["Rating" + rating.Name] = FR_CFG.getInt("FL_Rating" + rating.Name) * rating.Count;
					TotalScore = TotalScore + Scoredata["Rating" + rating.Name];
				})
			}

            Scoredata.TotalScore = TotalScore;
            return Scoredata;
        },
        buildPostTable: function(){
            
            //GAy little array
            var PostTable = [];

            //GEt all the posts
            var fetchposts = document.evaluate("//li[contains(@id,'post')][contains(@class,'postcontainer')]", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

            //Iterate
            for (var i = 0; i < fetchposts.snapshotLength; i++) {
                //Our Container
                var Postdata = {};
                //guests posts break shit
                if (fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[3].textContent.indexOf('Guest') === -1){
				
                    Postdata.IsOP = false;
                    if ( fetchposts.snapshotItem(i).childNodes[3].childNodes[5].childNodes[1].childNodes[1].textContent === " Post #1" ){
                        Postdata.IsOP = true;
                    }
					
                    Postdata.ElementID  = fetchposts.snapshotItem(i).id;
                    Postdata.PostID     = FR_FUN.removeIfContains(fetchposts.snapshotItem(i).id, "post_");
                    Postdata.UserName   = fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[1].childNodes[1].textContent;
                    //Usernames with < and > break shit horribly when used with innerHTML
                    Postdata.UserNameE  = fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[1].childNodes[1].textContent.replace(/</, "&lt;").replace(/>/, "&gt;");

                    Postdata.UserID     = parseInt(FR_FUN.removeIfContains(fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[1].childNodes[1].getAttribute("href"),'member.php?u='), 10);
                    
                    //joindate
                    Postdata.JoinDate = fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[5].childNodes[5].textContent;
                    Postdata.JoinMonth = Postdata.JoinDate.split(" ")[0];
                    Postdata.JoinYear = parseInt( Postdata.JoinDate.split(" ")[1], 10 );
                    var currdate = new Date();
                    //First of the month, is close enough
                    var compdate = new Date( Postdata.JoinMonth + " 1, " + Postdata.JoinYear);
                    var mmymonths = (currdate.getFullYear()*12 + currdate.getMonth()*1) - (compdate.getFullYear()*12 + compdate.getMonth()*1);
                    Postdata.MonthCount = mmymonths;
                    //Postcount Gross misuse of parseint
                    Postdata.UserPostCnt = parseInt(Postdata.JoinDate.split("\n")[2].split(' ')[0].replace(',',''), 10 );
                    //Clean up
                    Postdata.JoinDate = Postdata.JoinDate.split(" ")[0] + " " + parseInt( Postdata.JoinDate.split(" ")[1], 10 );

                    //user rank Detection
                    Postdata.Moderator = false;
                    Postdata.GoldMember = false;
                    Postdata.BannedMember = false;
                    Postdata.BlueMember = false;
                    var UsernameSectionOfPost = fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[1];
                    if (UsernameSectionOfPost){
                        if(UsernameSectionOfPost.childNodes[1].innerHTML.indexOf("strong") !== -1){
                            Postdata.GoldMember = true;
                        } else if (UsernameSectionOfPost.childNodes[1].innerHTML.indexOf("span") !== -1) {
                            Postdata.Moderator = true;
                        } else if (UsernameSectionOfPost.childNodes[1].innerHTML.indexOf("font") !== -1) {
                            Postdata.BannedMember = true;
                        }else {
                            Postdata.BlueMember = true;
                        }
                    }
                    
                    //Default Avatar
                    Postdata.DefaultAva = false;
                    if (!fetchposts.snapshotItem(i).childNodes[5].childNodes[1].childNodes[5].childNodes[1].childNodes[1]){
                        Postdata.DefaultAva = true;
                    }

                    //COunts
					//HACK: shouldn't have to search twice but i don't know shit about xpath
					var postContext = document.getElementById("post_message_"+Postdata.PostID).childNodes[1];
					Postdata.QuoteCount     = document.evaluate("count(.//div[@class='quote'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
					
					Postdata.ImageCount     = document.evaluate("count(.//img[not(@class='inlineimg')])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
					Postdata.ImageCount    -= document.evaluate("count(.//div[@class='quote']//img[not(@class='inlineimg')])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
					
					Postdata.EmoteCount     = document.evaluate("count(.//img[@class='inlineimg'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
                    Postdata.EmoteCount    -= document.evaluate("count(.//div[@class='quote']//img[@class='inlineimg'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
					
					Postdata.MediaCount     = document.evaluate("count(.//div[@class='media media_youtube'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
                    Postdata.MediaCount    -= document.evaluate("count(.//div[@class='quote']//div[@class='media media_youtube'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;

					Postdata.LinkCount      = document.evaluate("count(.//a[@target='_blank'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
                    Postdata.LinkCount     -= document.evaluate("count(.//div[@class='quote']//a[@target='_blank'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;

					Postdata.LineCount      = document.evaluate("count(.//br)", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
                    Postdata.LineCount     -= document.evaluate("count(.//div[@class='quote']//br)", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
					
					//not really needed
                    Postdata.PostHeight     = parseInt(postContext.clientHeight, 10);
                    //Not always correct, oh well
                    Postdata.BBCodeCount    = document.evaluate("count(.//b | .//i | .//u | .//span[@class='highlight'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;// +
                                           //document.evaluate("count(.//i)", postContext, null, XPathResult.ANY_TYPE, null).numberValue +
                                            //document.evaluate("count(.//u)", postContext, null, XPathResult.ANY_TYPE, null).numberValue +
                                            //document.evaluate("count(.//span[@class='highlight'])", postContext, null, XPathResult.ANY_TYPE, null).numberValue;
					

					
                    //Faggot detector
                    Postdata.YourPost = false;
                    if (fetchposts.snapshotItem(i).className.indexOf("yourpost") !== -1 ){ Postdata.YourPost = true; }
                    //NewPost
                    Postdata.NewPost = false;
                    if (fetchposts.snapshotItem(i).className.indexOf("postbitnew") !== -1 ){ Postdata.NewPost = true; }

                    //Can I reply?
                    Postdata.CanReply = false;
                    if ( fetchposts.snapshotItem(i).childNodes[7].childNodes[3].textContent.indexOf("Reply") !== -1){ Postdata.CanReply = true; }



                    //Ratings
                    Postdata.HasRatings = false;
                    var RatingNode = document.getElementById("rating_"+Postdata.PostID);
                    if (RatingNode.childElementCount > 0) {
                        Postdata.HasRatings = true;
						Postdata.Ratings = []

                        for (var x=0; x<RatingNode.childNodes.length; x++){
                            if (RatingNode.childNodes[x].tagName === "SPAN") {
								var Rating = {}
								//Grab the rating's name from the img alt, count from the strong tag (this will probably work for another year...)
								Rating.Name = RatingNode.childNodes[x].childNodes[0].childNodes[0].alt;
								Rating.Count = RatingNode.childNodes[x].childNodes[2].textContent;

								Postdata.Ratings.push(Rating);
                            }
                        }
                    }

                    //Postmeta Functions
                    Postdata.AddPostMeta = function (elementid, imgstr) {
                        var newurl = document.createElement('a');
                        newurl.style.marginRight = "5px";
                        newurl.setAttribute("onclick", "FR_FUN.toggleDropdown(\'"+elementid+"\', this.offsetTop + this.offsetHeight, this.offsetLeft  )");
                        newurl.innerHTML = "<img src=\""+imgstr+"\">";
                        document.getElementById(this.ElementID).childNodes[7].childNodes[5].appendChild(newurl);
                    };
                    PostTable.push(Postdata);
                }
            }
            return PostTable;
        }, 
        
        //Menu Display
        toggleMenu: function(menuType) {
            var menu_div = CreateFloatingDiv( MouseX, MouseY, 'FaceraperMenu_'+menuType, 'FaceraperMenu_'+menuType);
            if (!menu_div) { return false; }
            
            menu_div.innerHTML = '<a onclick="return CloseThis(this);" style="float: right;" href><img src="/fp/close.png"></a>';
            
            var indiv = document.createElement('div');
            indiv.style.cssText = "color: rgb(68, 68, 68); margin: 16px;";
            
            var indivl, indivr;
            if(menuType === 'OPTIONS'){
                indiv.style.cssText += "width: 300px;";
                indivl = document.createElement('div');
                indivl.style.cssText = "float:left; width: 49%; max-width: 49%; overflow:hidden; height:auto;";
                indivr = document.createElement('div');
                indivr.style.cssText = "float:right; width: 49%; max-width: 49%; overflow:hidden; height:auto;";
            }
            
            var mydiv = indiv;
            var myarr;
            var addedHeader = false, currentPropString = "";
            var inc = 0, x=0;
            for (var prop in FR_FUN.MENU[menuType]) {
                addedHeader = false;
                if (FR_FUN.MENU[menuType].hasOwnProperty(prop)) {
                
                    //alternate columns if options menu
                    if(menuType === 'OPTIONS'){
                        inc++;
                        if ((inc%2) === 1) { mydiv = indivl; } 
                        else { mydiv = indivr; }
                    }
                    
                    myarr = FR_FUN.MENU[menuType][prop];
                    for (x=0; x<myarr.length; x++) {
                        currentPropString = this.toMenuItem(myarr[x]);
                        if(!addedHeader && currentPropString !== ""){ mydiv.innerHTML += '<h2 class="usersetting_header">'+prop+'</h2>'; addedHeader = true; }
                        mydiv.innerHTML += currentPropString;
                    }
                }
            }

            if(menuType === 'OPTIONS'){
                indiv.appendChild(indivl);
                indiv.appendChild(indivr);
                indiv.innerHTML += "<div style='clear:both;overflow:hidden;height:auto;display:inline-block;float:right;' class='FR_Menu_Foot'><div class='button' href='javascript:;' onclick=\"FR_CFG.deleteAll()\">Reset Everything</div></div>";
            }
                   
            if(FR_CFG.getBool('FO_MenuClicks')){
                menu_div.setAttribute("onclick", "FR_FUN.toggleElementEX(event, \'FaceraperMenu_"+menuType+"\');");
            }
            
            menu_div.appendChild(indiv);
            
            $(menu_div).show('fast');
            return false;
        },
        showUserHistory: function(UserID,UserName,SubforumID,SubforumName,ThreadID){
            UserID = parseInt ( UserID, 10 );
        
            var id = "digger_"+UserID;
            var menu_div = CreateFloatingDiv( MouseX, MouseY, id, id);
            if (!menu_div) { return false; }
            
            menu_div.innerHTML = '<a onclick="return CloseThis(this);" style="float: right;" href><img src="/fp/close.png"></a>';
            
            var indiv = document.createElement('div');
            indiv.style.cssText = "color: rgb(68, 68, 68); margin: 16px;";
            
            indiv.innerHTML ='<h2>History</h2>'+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_Post&showposts=1">Find posts</a></div> '+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_Thread">Find threads</a></div> '+
            '<div class="button"><a href="/fp_images.php?u='+UserID+'">Find images</a></div> '+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_Post&showposts=1&forumchoice%5B%5D='+SubforumID+'">Find posts in '+SubforumName+'</a></div> '+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_Post&forumchoice%5B%5D='+SubforumID+'&starteronly=1">Find threads in '+SubforumName+'</a></div> '+
            '<div class="button"><a href="/fp_images.php?u='+UserID+'&f='+SubforumID+'">Find images in '+SubforumName+'</a></div> '+
            //creds to deadeye536, his idea
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&searchthreadid='+ThreadID+'&contenttype=vBForum_Post&showposts=1">Find posts (in this thread)</a></div> '+
            '<div class="button"><a href="/fp_images.php?u='+UserID+'&t='+ThreadID+'">Find images (in this thread)</a></div> '+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_SocialGroupMessage">Find group messages</a></div> '+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_SocialGroupMessage&starteronly=1">Find group threads</a></div> '+
            '<div class="button"><a href="/search.php?do=finduser&userid='+UserID+'&contenttype=vBForum_VisitorMessage">Find visitor messages</a></div> '+
            '<h2>Events</h2>'+
            '<a href="/fp_events.php?user='+UserID+'"><img src="/fp/navbar/events.png" alt="'+UserName+' events" title="'+UserName+' events"></a>'+
            '<a href="/fp_events.php?type=closed&user='+UserID+'"><img src="/fp/events/closed.png" alt="'+UserName+' closed" title="'+UserName+' closed"></a>'+
            '<a href="/fp_events.php?type=opened&user='+UserID+'"><img src="/fp/events/opened.png" alt="'+UserName+' opened" title="'+UserName+' opened"></a>'+
            '<a href="/fp_events.php?type=ban&user='+UserID+'"><img src="/fp/events/ban.png" alt="'+UserName+' ban" title="'+UserName+' ban"></a>'+
            '<a href="/fp_events.php?type=unban&user='+UserID+'"><img src="/fp/events/unban.png" alt="'+UserName+' unban" title="'+UserName+' unban"></a>'+
            '<a href="/fp_events.php?type=ddt&user='+UserID+'"><img src="/fp/events/ddt.png" alt="'+UserName+' ddt" title="'+UserName+' ddt"></a>'+
            '<a href="/fp_events.php?type=rename&user='+UserID+'"><img src="/fp/events/rename.png" alt="'+UserName+' rename" title="'+UserName+' rename"></a>'+
            '<a href="/fp_events.php?type=delhard&user='+UserID+'"><img src="/fp/events/delhard.png" alt="'+UserName+' delhard" title="'+UserName+' delhard"></a>'+
            '<a href="/fp_events.php?type=delsoft&user='+UserID+'"><img src="/fp/events/delsoft.png" alt="'+UserName+' delsoft" title="'+UserName+' delsoft"></a>'+
            '<a href="/fp_events.php?type=join&user='+UserID+'"><img src="/fp/events/join.png" alt="'+UserName+' join" title="'+UserName+' join"></a>'+
            '<a href="/fp_events.php?type=pban&user='+UserID+'"><img src="/fp/events/pban.png" alt="'+UserName+' pban" title="'+UserName+' pban"></a>'+
            '<a href="/fp_events.php?type=capsfix&user='+UserID+'"><img src="/fp/events/capsfix.png" alt="'+UserName+' capsfix" title="'+UserName+' capsfix"></a>'+
            '<a href="/fp_events.php?type=mov&user='+UserID+'"><img src="/fp/events/mov.png" alt="'+UserName+' mov" title="'+UserName+' mov"></a>' +
            '<a href="/fp_events.php?type=nforum&user='+UserID+'"><img src="/fp/events/nforum.png" alt="'+UserName+' nforum" title="'+UserName+' nforum"></a>' +
            '<a href="/fp_events.php?type=banr&user='+UserID+'"><img src="/fp/events/banr.png" alt="'+UserName+' banr" title="'+UserName+' banr"></a>' +
            '<a href="/fp_events.php?type=bani&user='+UserID+'"><img src="/fp/events/bani.png" alt="'+UserName+' bani" title="'+UserName+' bani"></a>' +
            '<a href="/fp_events.php?type=bunban&user='+UserID+'"><img src="/fp/events/bunban.png" alt="'+UserName+' bunban" title="'+UserName+' bunban"></a>' +
            '<a href="/fp_events.php?type=bansm&user='+UserID+'"><img src="/fp/events/bansm.png" alt="'+UserName+' bansm" title="'+UserName+' bansm"></a>';
            
            if(FR_CFG.getBool('FO_MenuClicks')){
                menu_div.setAttribute("onclick", "FR_FUN.toggleElementEX(event, \'"+id+"\');");
            }
            
            menu_div.appendChild(indiv);
            
            $(menu_div).show('fast');
            return false;
        },
        
        addJS: function(cssstr){
            
            var head = document.getElementsByTagName('body')[0];
            if (!head) { return; }
            var style = document.createElement('script');
            style.innerHTML = cssstr;
            head.appendChild(style);
        },
        
        buildMenus: function(){
            
            var mytargetnode = document.getElementById("navbarlinks");
            var cooldiv;

            if (mytargetnode !== undefined){
                //Navbar buttons
                cooldiv = document.createElement('div');
                cooldiv.className = "navbarlink";
                cooldiv.setAttribute("onclick", "FR_FUN.toggleMenu('OPTIONS')");
                cooldiv.innerHTML = '<a href="javascript:;"><img alt="Options" src="'+ FR_CFG.ICONS["silk_app_xp"]+'" title="Options">Options</a>';
                mytargetnode.insertBefore(cooldiv, mytargetnode.lastChild.previousSibling.previousSibling);


                /*if ( (FR_CFG.getBool('FO_PostStats') == true) ||
                    (FR_CFG.getBool('FO_TUserFilter') == true) ||
                    (FR_CFG.getBool('FO_TTitleFilter') == true) ||
                    (FR_CFG.getBool('FO_TUserStalk') == true) ||
                    (FR_CFG.getBool('FO_TTitleStalk') == true) ){

                    var cooldiv = document.createElement('div');
                    cooldiv.className = "navbarlink";
                    cooldiv.setAttribute("onclick", "FR_ShowCFG(\'FR_filters\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    cooldiv.innerHTML = '<a href="javascript:;"><img alt="Filters" src="'+FR_CFG.ICONS["silk_bomb"]+'" title="Filters"> Filters</a>';
                    mytargetnode.insertBefore(cooldiv, mytargetnode.lastChild.previousSibling.previousSibling);

                    var cooldiv = document.createElement('div');
                    cooldiv.className = "navbarlink";
                    cooldiv.setAttribute("onclick", "FR_ShowCFG(\'FR_lists\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    cooldiv.innerHTML = '<a href="javascript:;"><img alt="Lists" src="'+FR_CFG.ICONS["silk_chart_pie"]+'" title="Lists"> Lists</a>';
                    mytargetnode.insertBefore(cooldiv, mytargetnode.lastChild.previousSibling.previousSibling);
                };*/
                
                if (FR_CFG.getBool('FM_PostOptions')){
                    cooldiv = document.createElement('div');
                    cooldiv.className = "navbarlink";
                    cooldiv.setAttribute("onclick", "FR_FUN.toggleMenu('POST')");
                    cooldiv.innerHTML = '<a href="javascript:;"><img alt="Style" src="'+FR_CFG.ICONS["silk_pill"]+'" title="Style">Posts</a>';
                    mytargetnode.insertBefore(cooldiv, mytargetnode.lastChild.previousSibling.previousSibling);
                }
                
                if (FR_CFG.getBool('FM_Style')){
                    cooldiv = document.createElement('div');
                    cooldiv.className = "navbarlink";
                    cooldiv.setAttribute("onclick", "FR_FUN.toggleMenu('STYLES')");
                    cooldiv.innerHTML = '<a href="javascript:;"><img alt="Style" src="'+FR_CFG.ICONS["silk_paintcan"]+'" title="Style">Style</a>';
                    mytargetnode.insertBefore(cooldiv, mytargetnode.lastChild.previousSibling.previousSibling);
                }
                if (FR_CFG.getBool('FM_Extra')){
                    cooldiv = document.createElement('div');
                    cooldiv.className = "navbarlink";
                    cooldiv.setAttribute("onclick", "FR_FUN.toggleMenu('EXTRA')");
                    cooldiv.innerHTML = '<a href="javascript:;"><img alt="Extra" src="/fp/navbar/more.png" title="Extra">Extra</a>';
                    mytargetnode.insertBefore(cooldiv, mytargetnode.lastChild);
                }
            }

            /*
            //EMotes
            //EMote panels and etc
            var bloop = false;
            var txtid = "";

            if (FR_FUN.GLOBALS.ShowThread){
                bloop = document.getElementById("qr_submit");
                txtid = "vB_Editor_QR_textarea";
            } else if (FR_FUN.GLOBALS.NewReply){
                bloop = document.getElementById("vB_Editor_001_textarea");
                txtid = "vB_Editor_001_textarea";
            } else if (FR_FUN.GLOBALS.NewThread){
                bloop = document.getElementById("vB_Editor_001_textarea");
                txtid = "vB_Editor_001_textarea";
            } else if (FR_FUN.GLOBALS.EditPost){
                bloop = document.getElementById("vB_Editor_001_textarea");
                txtid = "vB_Editor_001_textarea";
            } else if (FR_FUN.GLOBALS.Private){
                bloop = document.getElementById("vB_Editor_001_textarea");
                txtid = "vB_Editor_001_textarea";
                if (!bloop){
                    bloop = document.getElementById("vB_Editor_QR_textarea");
                    txtid = "vB_Editor_QR_textarea";
                }
            }

            if (bloop){
                var newurl;
                if (FR_CFG.getBool('FO_TextProcess')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_txtprocess\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_color_wheel"]+"\" alt='Text Processor' title='Text processor'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);

                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_txtprocessb\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_wand"]+"\" alt='Text Converter' title='Text Converter'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);


                }
                //bbcode
                if (FR_CFG.getBool('FO_BBCodeList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_bbcode\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_comment"]+"\" alt='Text Processor' title='Text processor'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                //SmileyList
                if (FR_CFG.getBool('FO_SmileyList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_smiley\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_emoticon_smile"]+"\" alt='Smiley List' title='Generic Emotes'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_RetortList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_whitty\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_lightning"]+"\" alt='Smiley List' title='Whitty retorts'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_OddList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_oddball\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_sport_8ball"]+"\" alt='Smiley List' title='Odd shit'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_UnsortedList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_unsorted\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_help"]+"\" alt='Smiley List' title='Unsorted emotes'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_FlagsList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_flags\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_flag_blue"]+"\" alt='Smiley List' title='Nationalistic shit'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_MediaList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_media\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_rosette"]+"\" alt='Smiley List' title='Media, Games, etc'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_DrugsList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_deviancy\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_pill"]+"\" alt='Smiley List' title='Drugs, Dongs, etc'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }
                if (FR_CFG.getBool('FO_TextList')){
                    //Button
                    newurl = document.createElement('a');
                    newurl.style.marginRight = "5px";
                    newurl.setAttribute("onclick", "FR_ShowEmotes(\'FR_emote_text\', \'"+txtid+"\', MouseY + this.offsetHeight, this.offsetLeft  )");
                    newurl.innerHTML = "<img src=\""+FR_CFG.ICONS["silk_font"]+"\" alt='Smiley List' title='Text Emotes'>";
                    bloop.parentNode.parentNode.parentNode.insertBefore(newurl, bloop.parentNode.parentNode.parentNode.firstChild);
                }


            }
            */
        },
   
		// FUCK JAVASCRIPT AND WHOEVER MADE IT
		// this function requires to be in a function because if it's not in it's own shitty function
		// then if you try to send multiple http requests they overwrite each other
		// WHICH BREAKS EVERYTHING
		refCampCrap: function(createruserid, getthreadid, cache){
			var getthread = document.getElementById(getthreadid);
			//remove old thread icon
			//getthread.childNodes[3].removeChild(getthread.childNodes[3].childNodes[1]);
			cache = cache + "";
			
			//if we have cached data for this user
			if (cache !== 'undefined'){
				var newimg = document.createElement('img');
				var tstarr = cache.split(',');
				if ( tstarr[0] ) {
					newimg.title = tstarr[1];
					if ( tstarr[2] === "pban"){
						newimg.src = FR_CFG.ICONS['ref_perma'];
					} else if ( tstarr[2] === "ban"){
						newimg.src = FR_CFG.ICONS['ref_ban'];
					} else if ( tstarr[2] === "unban"){
						newimg.src = FR_CFG.ICONS['ref_unban'];
					} else if ( tstarr[2] === "regi"){
						newimg.src = FR_CFG.ICONS['ref_regi'];
					}
				}
				
				getthread.childNodes[3].appendChild(newimg);
			}
			else { //no cached data
				//submit a new request to event log
				var http = new XMLHttpRequest();
				http.open("GET", "/fp_events.php?aj=1&user="+createruserid, true);
				http.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8");
				
				console.log("Fetching ban info for: " + createruserid );
				
				http.onreadystatechange = function() {
					if(http.readyState === 4 && http.status === 200) {
						var newimg = document.createElement('img');
						var cooldiv = document.createElement('div');
						cooldiv.innerHTML = http.responseText;

						//grab everything relating to bans
						var fetchinge = document.evaluate(".//a[contains(@href,'=ban')] | .//a[contains(@href,'=pban')] | .//a[contains(@href,'=unban')] | .//a[contains(@href,'=regi')] | .//a[contains(@href,'=spamb')]", cooldiv, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

						// if we found something relating to bans
						if(fetchinge.snapshotItem(0)){
							// HACK: url rewrite shit
							var tempstring = FR_FUN.removeIfContains(fetchinge.snapshotItem(0).nextSibling.nextSibling.nextSibling.nextSibling.getAttribute("href"),"member.php?u=");
							tempstring = FR_FUN.removeIfContains(tempstring, "members/");
							var BaneeUid = parseInt(tempstring, 10 );
							console.log("Request ready for: " + BaneeUid);
							var binfo = "shit";
							var foundshit = '';

							if ( BaneeUid === createruserid ) {
								//getthread.childNodes[3].removeChild(getthread.childNodes[3].childNodes[1]);
								if ( fetchinge.snapshotItem(0).getAttribute("href").indexOf("=pban") !== -1){
									newimg.src = FR_CFG.ICONS['ref_perma'];
									foundshit = 'pban';
								} else if ( fetchinge.snapshotItem(0).getAttribute("href").indexOf("=ban") !== -1){
									newimg.src = FR_CFG.ICONS['ref_ban'];
									foundshit = 'ban';
								} else if ( fetchinge.snapshotItem(0).getAttribute("href").indexOf("=unban") !== -1){
									newimg.src = FR_CFG.ICONS['ref_unban'];
									foundshit = 'unban';
								}
								//if we found something then grab it's info and store it in cache
								if(foundshit !== ''){
									binfo = FR_FUN.removeIfContains(FR_FUN.removeIfContains(fetchinge.snapshotItem(0).nextSibling.nextSibling.textContent, ","), "^") +" : "+ FR_FUN.removeIfContains(FR_FUN.removeIfContains(fetchinge.snapshotItem(0).parentNode.lastChild.previousSibling.textContent, ","), "^");
								}
							//regibans are special
							} else if ( fetchinge.snapshotItem(0).getAttribute("href").indexOf("=regi") !== -1){
									newimg.src = FR_CFG.ICONS['ref_regi'];
									binfo = "RegiBan : test";
									foundshit = 'regi';
							}
							//if we're caching this stuff, then put it into cache
							if(FR_CFG.getBool('FO_RefCampInfoCache') && foundshit !== ''){
								sessionStorage.setItem("cachedBanInfo", sessionStorage.getItem("cachedBanInfo") +BaneeUid+"^"+binfo+"^"+foundshit+",");
							}

							newimg.title = binfo;
							getthread.childNodes[3].appendChild(newimg);
						}
					}
				};
				http.send();
			}
		},
   
        gdFix: function(){
            var aa = document.getElementsByTagName("a");
            var gdlnk = ["facepunch.com/forumdisplay.php?f=6", "facepunch.com/forums/6"];
            for (var i = 0; i < aa.length; i++) {
                if(FR_FUN.arrayContainsEnd(gdlnk, aa[i].href)){
                    aa[i].href = "//facepunch.com/forumdisplay.php?f=6&sort=lastpost&order=desc";
                }
            }
        },
       
        //called as soon as DOM is loaded
        init: function(){
            //we've triggerd init, so make sure it's known
            FR_FUN.GLOBALS.INITDONE = true;
            
            if(FR_CFG.getBool('FO_GDFixer')){
               FR_FUN.gdFix();
            }
            
            var thissubforum;
            //start determining some of our variables, based on where the fuck we are
            
            // url rewrite shit
            if( !FR_FUN.GLOBALS.URLREWRITE ){ 
                FR_FUN.GLOBALS.QueryParams  = FR_FUN.getQueryParams(document.location.search);
            }

            if( FR_FUN.GLOBALS.URLREWRITE ) {
                //SHOWTHREAD
                if (window.location.pathname.indexOf("threads/") !== -1) {
                    FR_FUN.GLOBALS.ShowThread   =   true;
                    // find the breadcrumb navigation in the header, return a list of them
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    
                    // grab the last result, which should be the subforum we're in
                    FR_FUN.GLOBALS.SubforumName =   thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   =   parseInt(thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].getAttribute("href").replace(/forums\//, ""), 10);
                    
                    // get the ID of the thread from the URL
                    FR_FUN.GLOBALS.ShowThreadID =   parseInt( FR_FUN.removeIfContains(window.location.pathname, 'threads/'), 10 );
                    
                    //Poll
                    if (document.getElementById("pollinfo") ){
                        FR_FUN.GLOBALS.Poll = true;
                    }
                //FORUMDISPLAY
                } else if (window.location.pathname.indexOf("forums/") !== -1) {
                    FR_FUN.GLOBALS.ForumDisplay =   true;
                    thissubforum = window.location.pathname.replace(/forums\//, "");
                    FR_FUN.GLOBALS.SubforumName =   document.title;
                    FR_FUN.GLOBALS.SubforumID   =   parseInt(thissubforum, 10);
                //NEWREPLY
                } else if (window.location.pathname.indexOf("newreply/") !== -1) {
                    FR_FUN.GLOBALS.NewReply = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName =   thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   =   parseInt(thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].getAttribute("href").replace(/forums\//, ""), 10);
                //NEWTHREAD
                } else if (window.location.pathname.indexOf("newthread/") !== -1) {
                    FR_FUN.GLOBALS.NewThread = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName =   thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   =   parseInt(thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].getAttribute("href").replace(/forums\//, ""), 10);
                //EDIT POST
                } else if (window.location.pathname.indexOf("editpost/") !== -1) {
                    FR_FUN.GLOBALS.EditPost = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName =   thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   =   parseInt(thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].getAttribute("href").replace(/forums\//, ""), 10);

                //Poll
                } else if (window.location.pathname.indexOf("poll/") !== -1) {
                    FR_FUN.GLOBALS.Poll = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName =   thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   =   parseInt(thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].getAttribute("href").replace(/forums\//, ""), 10);
                //Event Log
                } else if (window.location.pathname.indexOf("fp_events/") !== -1) {
                    FR_FUN.GLOBALS.EventLog =   true;

                    if(window.location.href.search(/user/)  !== -1){
                        //this is gay, the ? should be omitted from the string
                        var testing = window.location.search.replace(/\?/, "").split('&');

                        for (var i = 0; i < testing.length; i++) {
                            var testingtwo = testing[i].split('=');
                            if ( testingtwo[0] === "user") {
                                FR_FUN.GLOBALS.EventLogMEM = parseInt(testingtwo[1], 10);
                            } else if ( testingtwo[0] === "type") {
                                FR_FUN.GLOBALS.EventLogType = testingtwo[1];
                            }
                        }
                    }

                } else if (window.location.pathname.indexOf("members/") !== -1) {
                    FR_FUN.GLOBALS.MemberPage   =   true;
                    FR_FUN.GLOBALS.MemberID     =   parseInt( window.location.pathname.replace(/members\//, ""), 10 );
                //PM
                } else if (window.location.pathname.indexOf("private/") !== -1) {
                    FR_FUN.GLOBALS.Private  =   true;

                    /*if(window.location.href.search(/user/)  !== -1){
                        //this is gay, the ? should be omitted from the string
                        var testing = window.location.search.replace(/\?/, "").split('&');

                        for (var i = 0; i < testing.length; i++) {
                            var testingtwo = testing[i].split('=');
                            if ( testingtwo[0] === "u") {
                                //FR_FUN.GLOBALS.EventLogMEM = parseInt(testingtwo[1]);
                            } else if ( testingtwo[0] === "do") {
                                //FR_FUN.GLOBALS.EventLogType = testingtwo[1];
                            }
                        }
                    }*/
                } else if (window.location.pathname.indexOf("memberlist/") !== -1) {
                    FR_FUN.GLOBALS.MemberList = true;
                } else if (window.location.pathname.indexOf("online/") !== -1) {
                    FR_FUN.GLOBALS.WhoisOnline = true;
                } else if (window.location.pathname.indexOf("chat/") !== -1) {
                    FR_FUN.GLOBALS.Chat = true;
                }
            } else {
                //SHOWTHREAD
                if ( window.location.pathname.indexOf("showthread.php") !== -1 ) {
                    FR_FUN.GLOBALS.ShowThread   = true;
                    // find the breadcrumb navigation in the header, return a list of them
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    
                    // grab the last result, which should be the subforum we're in
                    FR_FUN.GLOBALS.SubforumName = thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   = parseInt(FR_FUN.getQueryParams(thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].getAttribute("href")).f, 10);
                    
                    // get the ID of the thread from the URL
                    FR_FUN.GLOBALS.ShowThreadID = parseInt( FR_FUN.GLOBALS.QueryParams.t, 10 );
                    
                    //Poll
                    if (document.getElementById("pollinfo") ){
                        FR_FUN.GLOBALS.Poll = true;
                    }
                //FORUMDISPLAY
                } else if (window.location.pathname.indexOf("forumdisplay.php") !== -1) {
                    FR_FUN.GLOBALS.ForumDisplay = true;
                    FR_FUN.GLOBALS.SubforumName = document.getElementById("lastelement").childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   = parseInt(FR_FUN.GLOBALS.QueryParams.f, 10);
                //NEWREPLY
                } else if (window.location.pathname.indexOf("newreply.php") !== -1) {
                    FR_FUN.GLOBALS.NewReply = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName = thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   = parseInt(FR_FUN.getQueryParams(thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].getAttribute("href")).f, 10);

                //NEWTHREAD
                } else if (window.location.pathname.indexOf("newthread.php") !== -1) {
                    FR_FUN.GLOBALS.NewThread = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName = thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   = parseInt(FR_FUN.getQueryParams(thissubforum.snapshotItem(thissubforum.snapshotLength - 1).childNodes[1].getAttribute("href")).f, 10);
                //EDIT POST
                } else if (window.location.pathname.indexOf("editpost.php") !== -1) {
                    FR_FUN.GLOBALS.EditPost = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName = thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   = parseInt(FR_FUN.getQueryParams(thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].getAttribute("href")).f, 10);

                //Poll
                } else if (window.location.pathname.indexOf("poll.php") !== -1) {
                    FR_FUN.GLOBALS.Poll = true;
                    thissubforum = document.evaluate("//span[@class='navbit']",document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    FR_FUN.GLOBALS.SubforumName = thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].textContent;
                    FR_FUN.GLOBALS.SubforumID   = parseInt(FR_FUN.getQueryParams(thissubforum.snapshotItem(thissubforum.snapshotLength - 2).childNodes[1].getAttribute("href")).f, 10);
                //Event Log
                } else if (window.location.pathname.indexOf("fp_events.php") !== -1) {
                    FR_FUN.GLOBALS.EventLog = true;
                    FR_FUN.GLOBALS.EventLogMEM = parseInt(FR_FUN.GLOBALS.QueryParams.user, 10);
                    FR_FUN.GLOBALS.EventLogType = FR_FUN.GLOBALS.QueryParams.type;
                } else if (window.location.pathname.indexOf("members.php") !== -1 || window.location.pathname.indexOf("member.php") !== -1) {
                    FR_FUN.GLOBALS.MemberPage = true;
                    FR_FUN.GLOBALS.MemberID = parseInt( FR_FUN.GLOBALS.QueryParams.u, 10 );
                //PM
                } else if (window.location.pathname.indexOf("private.php") !== -1) {
                    FR_FUN.GLOBALS.Private  = true;
                    FR_FUN.GLOBALS.EventLogMEM = parseInt(FR_FUN.GLOBALS.QueryParams.u, 10);
                    FR_FUN.GLOBALS.EventLogType = FR_FUN.GLOBALS.QueryParams.do;
                    
                    /*if(window.location.href.search(/user/)  !== -1){
                        //this is gay, the ? should be omitted from the string
                        var testing = window.location.search.replace(/\?/, "").split('&');

                        for (var i = 0; i < testing.length; i++) {
                            var testingtwo = testing[i].split('=')
                            if ( testingtwo[0] == "u") {
                                //FR_FUN.GLOBALS.EventLogMEM = parseInt(testingtwo[1]);
                            } else if ( testingtwo[0] == "do") {
                                //FR_FUN.GLOBALS.EventLogType = testingtwo[1];
                            }
                        }
                    }*/
                } else if (window.location.pathname.indexOf("memberlist.php") !== -1) {
                    FR_FUN.GLOBALS.MemberList = true;
                } else if (window.location.pathname.indexOf("online.php") !== -1) {
                    FR_FUN.GLOBALS.WhoisOnline = true;
                } else if (window.location.pathname.indexOf("chat.php") !== -1) {
                    FR_FUN.GLOBALS.Chat = true;
                } else if (window.location.pathname.indexOf("showgroups.php") !== -1) {
                    FR_FUN.GLOBALS.ShowGroups = true;
                }
            }
            if ( FR_FUN.GLOBALS.SubforumID === 56 ) {
                FR_FUN.GLOBALS.Oify = true;
            }
            else if ( FR_FUN.GLOBALS.SubforumID === 62 ) {
                FR_FUN.GLOBALS.REFCamp = true;
            }
            if ( document.getElementById('notices') ) {
                FR_FUN.GLOBALS.Notice = true;
            }
        },
        
        // Called after init
        initLate: function(){
            
            
            //i'll do shit with this later
            /*if (!FR_FUN.GLOBALS.Notice){
                //var refnode = document.evaluate("//div[@class='above_body boxshadow']", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null).snapshotItem(0);

                //var newnotice = document.createElement('div');
                //newnotice.className = "notices";
                //newnotice.id = "notices";
                //newnotice.innerHTML = '<ol>' +
                //  '<li id="navbar_notice_6" class="restore">' +
                //  '<img style="float: right;" alt="Dismiss" src="http://static.facepunch.com/fp/cross.png">' +
                //  'Hello not_Morph53 - You\'ve been made a <b>Gold Member</b>. You automatically get gold membership if you have over 2000 posts and have been a member for longer than 2 years. ' +
                //  '<br><br>You are a grown up on these forums now. So please be nice to the non-golds and try to help them along the way. The forums are what YOU make them.' +
                //  '</li></ol>';

                //refnode.parentNode.insertBefore(newnotice, refnode.nextSibling);
            }*/

			// if we're viewing a forum
            if( FR_FUN.GLOBALS.ForumDisplay === true){
                if(FR_CFG.getBool('FO_SubFonTop')){
                    if (document.getElementById( 'above_threadlist' ) !== undefined) {
                        var subforums = document.evaluate("/html/body/div/table[2]", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                        if (subforums.snapshotItem(0) !== undefined){
                            document.getElementById( 'content_pad' ).insertBefore(subforums.snapshotItem(0), document.getElementById( 'above_threadlist' ) );
                        }
                    }
                }

                if(FR_CFG.getBool('FO_OnlineAva')){
                    if (document.getElementById( 'bottom_box' ) !== null) {
                        document.getElementById( 'bottom_box' ).setAttribute("onmousemove", "FR_FUN.avatarTool(event)");
                        document.getElementById( 'bottom_box' ).setAttribute("onmouseout", "document.getElementById('FR_floatyimg').style.display = 'none';");
                    }
                }

				//grab a list of the threads
                var threadlist = document.evaluate("//tr[contains(@id,'thread_')]", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

                //filterlists
                var naughtylist = FR_CFG.getArray('FO_blacklist');
                var nicelist = FR_CFG.getArray('FO_whitelist');
                var tnaughtylist = FR_CFG.getArray('FO_tblacklist');
                var tnicelist = FR_CFG.getArray('FO_twhitelist');

                var stalktbody = document.createElement('tbody');
                var ignoretbody = document.createElement('tbody');


				//if we're in the refcamp
				if(FR_FUN.GLOBALS.REFCamp){
					var cachedrez = [];
					var cachedparsed = [];
				
					//if we want to grab ban info for threads
					if(FR_CFG.getBool('FO_RefCampBanInfo')){
						//if we store a cache of ban info
						if(FR_CFG.getBool('FO_RefCampInfoCache')){
							if ( ( sessionStorage.getItem("cachedBanInfo") !== null  ) && ( sessionStorage.getItem("cachedBanInfo") !== '') ){
								cachedrez = sessionStorage.getItem("cachedBanInfo").split(',');
								
								//go through entire cache, putting into array based on ID of member that got banned
								for (var x=0; x<cachedrez.length; x++) {
									var entry = cachedrez[x].split('^');
									cachedparsed[entry[0]] = entry;
								}
							}
						} else {
							sessionStorage.setItem("cachedBanInfo", "");
						}
						
						//go through all of the threads
						for (var g = 0; g < threadlist.snapshotLength; g++) {
							// HACK: url rewrite needs fixing
							var createruserid = 0;
							try{
								createruserid = parseInt(FR_FUN.removeIfContains(threadlist.snapshotItem(g).childNodes[5].childNodes[5].childNodes[5].childNodes[3].childNodes[1].getAttribute("href"),"member.php?u="), 10 );
							}catch(e){
								console.log("fuck problems getting userid: IN " + threadid + " WITH: " + getthread.childNodes[5].childNodes[5].childNodes[5].childNodes[3].childNodes[1].outerHTML);
							}
							FR_FUN.refCampCrap(createruserid, threadlist.snapshotItem(g).id, cachedparsed[createruserid]);
							//FR_FUN.refCampCrap(threadlist.snapshotItem(g).id, cachedparsed);
						}
					}
				}
				else { //not in ref camp
					//do filtering for every thread
					for (var g = 0; g < threadlist.snapshotLength; g++) {
						if( (FR_FUN.GLOBALS.SubforumID === 60) && (FR_CFG.getBool('FO_FFChemo')) ){
							tnaughtylist = tnaughtylist.concat(FR_CFG.getArray('FO_tfastthreads'));
						}

						var threadlock = false;
						var threadstick = false;
						var threaddel = false;
						var threadmov = false;
						if (threadlist.snapshotItem(g).className.indexOf("lock") !== -1){threadlock = true;}
						if (threadlist.snapshotItem(g).className.indexOf("nonsticky") === -1){threadstick = true;}
						if (threadlist.snapshotItem(g).className.indexOf("deleted") !== -1){threaddel = true;}
						if (threadlist.snapshotItem(g).className.indexOf("moved") !== -1){threadmov = true;}

						var amidone = false;

						/*if ( ( (FR_CFG.getBool('FO_StickyLock')) && (threadlock) && (!threaddel) && (!threadmov) ) ||
							( (FR_CFG.getBool('FO_StickyLock')) && (threadstick) && (!threaddel) && (!threadmov) ) ||
							( (!threadstick) && (!threadlock) && (!threaddel) && (!threadmov)) ){
							var threadcreator = threadlist.snapshotItem(g).childNodes[5].childNodes[5].childNodes[5].childNodes[3].childNodes[1].textContent;
							var threadtitle = threadlist.snapshotItem(g).childNodes[5].childNodes[5].childNodes[3].childNodes[1].firstChild.textContent;
							
							if (threadcreator){
								if ( (FR_CFG.getBool('FO_TUserFilter')) && !amidone ){
									if( FR_FUN.arrayHas(threadcreator) ){
										threadlist.snapshotItem(g).className += " faggotry";
										amidone = true;

										if (FR_CFG.getBool('FO_ThreadNuke')) {
											ignoretbody.appendChild(threadlist.snapshotItem(g).cloneNode(true));
											threadlist.snapshotItem(g).style.display = "none";
										}
									}
								}

								if ( (FR_CFG.getBool('FO_TTitleFilter')) && !amidone){
									for (var x=0; x<tnaughtylist.length; x++){
										if ( !amidone){
											if (threadtitle.search( new RegExp(tnaughtylist[x], "i") ) !== -1){
												threadlist.snapshotItem(g).className += " faggotry";
												amidone = true;

												if (FR_CFG.getBool('FO_ThreadNuke')) {
													ignoretbody.appendChild(threadlist.snapshotItem(g).cloneNode(true));
													threadlist.snapshotItem(g).style.display = "none";
												}
											}
										}
									}

								}

								if ( (FR_CFG.getBool('FO_TUserStalk')) && !amidone){
									if( FR_FUN.arrayHas(threadcreator) ){
										threadlist.snapshotItem(g).className += " awsomeness";
										amidone = true;

										if (FR_CFG.getBool('FO_ThreadBump')) {
											stalktbody.appendChild(threadlist.snapshotItem(g).cloneNode(true));
											threadlist.snapshotItem(g).style.display = "none";
										}
									}
								}

								if ( (FR_CFG.getBool('FO_TTitleStalk')) && !amidone ){
									for (var x=0; x<tnicelist.length; x++){
										if ( !amidone ){
											if (threadtitle.search( new RegExp(tnicelist[x], "i") ) !== -1){
												threadlist.snapshotItem(g).className += " awsomeness";
												amidone = true;

												if (FR_CFG.getBool('FO_ThreadBump')) {
													stalktbody.appendChild(threadlist.snapshotItem(g).cloneNode(true));
													threadlist.snapshotItem(g).style.display = "none";
												}
											}
										}
									}
								}
							}
						}*/
					}
				}

                //Ignore Table
                if ( ((FR_CFG.getBool('FO_TUserFilter')) || (FR_CFG.getBool('FO_TTitleFilter'))) && ( (FR_CFG.getBool('FO_ThreadNuke')) && (ignoretbody.childElementCount > 0 )) ){
                    var crapmenuitem1 = document.createElement('table');
                    crapmenuitem1.id = "threads";
                    crapmenuitem1.className = "threads";
                    crapmenuitem1.cellSpacing = "0";
                    crapmenuitem1.cellPadding = "6";
                    crapmenuitem1.border = "0";
                    crapmenuitem1.style.cssText = 'clear: both;display: table;width: 100%;';
                    crapmenuitem1.innerHTML = '<thead class="threadlisthead"><tr><td class="threadicon">&nbsp;</td><td class="threadinfo"><a rel="nofollow" href="javascript:;">Nuked Threads ('+ignoretbody.childElementCount+')</a></td><td class="threadlastpost"><a rel="nofollow" href="javascript:;">Last Post By </a></td><td class="threadreplies"><a rel="nofollow" href="javascript:;">Replies</a></td><td class="threadviews"><a rel="nofollow" href="javascript:;">Views</a></td></tr></thead>';
                    crapmenuitem1.appendChild(ignoretbody);
                    document.getElementById( 'threads' ).parentNode.insertBefore(crapmenuitem1, document.getElementById( 'threads' ).nextSibling);
                }

                //Stalk Table
                if ( ((FR_CFG.getBool('FO_TUserStalk')) || (FR_CFG.getBool('FO_TTitleStalk'))) && ( (FR_CFG.getBool('FO_ThreadBump')) && (stalktbody.childElementCount > 0 )) ){
                    var crapmenuitem1 = document.createElement('table');
                    crapmenuitem1.id = "threads";
                    crapmenuitem1.className = "threads";
                    crapmenuitem1.cellSpacing = "0";
                    crapmenuitem1.cellPadding = "6";
                    crapmenuitem1.border = "0";
                    crapmenuitem1.style.cssText = 'clear: both;display: table;width: 100%;';
                    crapmenuitem1.innerHTML = '<thead class="threadlisthead"><tr><td class="threadicon">&nbsp;</td><td class="threadinfo"><a rel="nofollow" href="javascript:;">Stalked Threads ('+stalktbody.childElementCount+')</a></td><td class="threadlastpost"><a rel="nofollow" href="javascript:;">Last Post By </a></td><td class="threadreplies"><a rel="nofollow" href="javascript:;">Replies</a></td><td class="threadviews"><a rel="nofollow" href="javascript:;">Views</a></td></tr></thead>';
                    crapmenuitem1.appendChild(stalktbody);
                    document.getElementById( 'threads' ).parentNode.insertBefore(crapmenuitem1, document.getElementById( 'threads' ));
                }


            }

            // Chat stuff, that doesn't exist anymore
            /*
            function listReload(){
                
                ChatBlackList = FR_CFG.getArray('FO_blacklist');
                ChatWhiteList = FR_CFG.getArray('FO_whitelist');
            }

            function XAddName( name ){
                
                //alert(name.name);
                var cooldiv = document.createElement('div');
                cooldiv.innerHTML = name.name;

                if( ( fukedprot(ChatBlackList, cooldiv.textContent) ) && (FR_CFG.getBool('FO_CUserFilter') ) ) {
                    name.name = "<span style='background-color: white !important; background-image: -moz-linear-gradient(top left, rgb(255,128,128), rgba(255,128,128,0)); background-image: -webkit-linear-gradient(top left, rgb(255,128,128), rgba(255,128,128,0));'>"+name.name+"</span>";
                } else if( ( fukedprot(ChatWhiteList, cooldiv.textContent) ) && (FR_CFG.getBool('FO_CUserStalk') ) ){
                    name.name = "<span style='background-color: white !important; background-image: -moz-linear-gradient(top left, rgb(128,128,255), rgba(128,128,255,0)); background-image: -webkit-linear-gradient(top left, rgb(128,128,255), rgba(128,128,255,0));'>"+name.name+"</span>";
                }

                name.name = "<a href='javascript:FR_CFG.listManage(\"FO_whitelist\",\""+cooldiv.textContent+"\");listReload();'><img style='padding-right: 2px;' src=\""+WLimg+"\" title='Whitelist "+cooldiv.textContent+"'> </a>" + name.name;
                name.name = "<a href='javascript:FR_CFG.listManage(\"FO_blacklist\",\""+cooldiv.textContent+"\");listReload();'><img style='padding-right: 2px;' src=\""+BLimg+"\" title='Blacklist "+cooldiv.textContent+"'> </a>" + name.name;

                new AddNameX(name);
            }

            function XAddLine( line, delay ){
                
                var cooldiv = document.createElement('div');
                cooldiv.innerHTML = line.html;

                if ( (cooldiv.firstChild.className.search(/join/) === -1 ) && (cooldiv.firstChild.className.search(/quit/) === -1 ) ) {

                    if( ( fukedprot(ChatBlackList, cooldiv.firstChild.firstChild.childNodes[2].textContent) )  && (FR_CFG.getBool('FO_CUserFilter') ) ){
                        cooldiv.firstChild.innerHTML = "<span style='background-color: white !important; background-image: -moz-linear-gradient(top left, rgb(255,128,128), rgba(255,128,128,0)); background-image: -webkit-linear-gradient(top left, rgb(255,128,128), rgba(255,128,128,0));'>"+cooldiv.firstChild.innerHTML+"</span>";
                        line.html = cooldiv.innerHTML;
                    } else if( ( fukedprot(ChatWhiteList, cooldiv.firstChild.firstChild.childNodes[2].textContent) ) && (FR_CFG.getBool('FO_CUserStalk') ) ){
                        cooldiv.firstChild.innerHTML = "<span style='background-color: white !important; background-image: -moz-linear-gradient(top left, rgb(128,128,255), rgba(128,128,255,0)); background-image: -webkit-linear-gradient(top left, rgb(128,128,255), rgba(128,128,255,0));'>"+cooldiv.firstChild.innerHTML+"</span>";
                        line.html = cooldiv.innerHTML;

                        new AddLineX( line, delay );
                    } else {
                        new AddLineX( line, delay );
                    }
                } else {
                    new AddLineX( line, delay );
                }
            }

            if ( FR_FUN.GLOBALS.Chat ) {
                var ChatBlackList = FR_CFG.getArray('FO_blacklist');
                var ChatWhiteList = FR_CFG.getArray('FO_whitelist');
                var WLimg = "";
                var BLimg = "";

                //Onload unfuckery
                var fetchlines = document.evaluate("//div[@class='line']", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

                for (var g = 0; g < fetchlines.snapshotLength; g++) {
                    if( ( fukedprot(ChatBlackList, fetchlines.snapshotItem(g).firstChild.childNodes[2].textContent) ) && (FR_CFG.getBool('FO_CUserFilter') ) ){
                        fetchlines.snapshotItem(g).innerHTML = "<span style='background-color: white !important; background-image: -moz-linear-gradient(top left, rgb(255,128,128), rgba(255,128,128,0)); background-image: -webkit-linear-gradient(top left, rgb(255,128,128), rgba(255,128,128,0));'>"+fetchlines.snapshotItem(g).innerHTML+"</span>";
                        fetchlines.snapshotItem(g).style.display = "none";
                    } else if ( ( fukedprot(ChatWhiteList, fetchlines.snapshotItem(g).firstChild.childNodes[2].textContent) ) && (FR_CFG.getBool('FO_CUserStalk')) ){
                        fetchlines.snapshotItem(g).innerHTML = "<span style='background-color: white !important; background-image: -moz-linear-gradient(top left, rgb(128,128,255), rgba(128,128,255,0)); background-image: -webkit-linear-gradient(top left, rgb(128,128,255), rgba(128,128,255,0));'>"+fetchlines.snapshotItem(g).innerHTML+"</span>";
                    }

                }

                document.getElementById( 'names' ).style.width = "160px";
                document.getElementById( 'chat' ).style.right = "170px";

                var cooljsb = ""+
                "var WLimg = '"+FR_CFG.ICONS['silk_add']+"';"+
                "var BLimg = '"+FR_CFG.ICONS['silk_delete']+"';"+
                fukedprot.toString()+
                listReload.toString()+
                "var ChatBlackList = FR_CFG.getArray('FO_blacklist');"+
                "var ChatWhiteList = FR_CFG.getArray('FO_whitelist');"+
                "var AddLineX = eval('['+AddLine.toString()+']')[0];"+
                "var AddNameX = eval('['+AddName.toString()+']')[0];"+
                "AddName = eval('['+"+XAddName.toString()+"+']')[0];"+
                "AddLine = eval('['+"+XAddLine.toString()+"+']')[0];";

                AddJS(cooljsb);

            }*/

            /*
                EVENT LOG MODIFICATION

                TODO:
                    OldEvents will just be an innerHTML += hack, should be quicker
                    MOD lists will be iterate over an array, not this innerHTML clusterfuck
            */
            if ( FR_FUN.GLOBALS.EventLog ) {
                var eventlist = document.evaluate("//div[@class='event']", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

                var mytargetnode = document.getElementById("event_types");

                //obsolete events
                if (FR_CFG.getBool('FO_OldEvents')){
                    var a = document.createElement('a');
                    a.href = "/fp_events.php?type=nforum";
                    a.innerHTML = '<img width="16" height="16" border="0" alt="nforum" src="/fp/events/nforum.png" title="nforum">';
                    mytargetnode.appendChild( a );
                    a = document.createElement('a');
                    a.href = "/fp_events.php?type=banr";
                    a.innerHTML = '<img width="16" height="16" border="0" alt="banr" src="/fp/events/banr.png" title="banr">';
                    mytargetnode.appendChild( a );
                    a = document.createElement('a');
                    a.href = "/fp_events.php?type=bani";
                    a.innerHTML = '<img width="16" height="16" border="0" alt="bani" src="/fp/events/bani.png" title="bani">';
                    mytargetnode.appendChild( a );
                    a = document.createElement('a');
                    a.href = "/fp_events.php?type=bunban";
                    a.innerHTML = '<img width="16" height="16" border="0" alt="bunban" src="/fp/events/bunban.png" title="bunban">';
                    mytargetnode.appendChild( a );
                    a = document.createElement('a');
                    a.href = "/fp_events.php?type=bansm";
                    a.innerHTML = '<img width="16" height="16" border="0" alt="bansm" src="/fp/events/bansm.png" title="bansm">';
                    mytargetnode.appendChild( a );
                }

                /*if ( (FR_CFG.getBool('FO_ModList') ) ){
                    mytargetnode.style.cssText = "float:right;background-color: #FAFAFA;border: 1px solid #888888;padding:5px;";
                    for (var i = 0; i < FR_FUN.MODLIST.CURRENT.length; i++) {
                        var moduid = FR_FUN.MODLIST.CURRENT[i][0];
                        var modname = FR_FUN.MODLIST.CURRENT[i][1];
						
                        var cooldiv = document.createElement('div');
                        cooldiv.className = "modlistEntry";

                        var cooldivA = document.createElement('div');
						cooldivA.className = "wrapper";
						cooldivA.innerHTML = '<div style=" width:110px; display:inline-block;"><a href="/member.php?u='+moduid+'" style="font-size: 14px; font-weight: bold;">'+modname+'</a></div>' +
						'<div style="display:inline; text-align:right; float:right;">'+
						'<a href="/fp_events.php?user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' events" src="/fp/navbar/events.png" title="'+modname+' events"></a>'+
						'<a href="/fp_events.php?type=closed&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' closed" src="/fp/events/closed.png" title="'+modname+' closed"></a>'+
						'<a href="/fp_events.php?type=opened&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' opened" src="/fp/events/opened.png" title="'+modname+' opened"></a>'+
						'<a href="/fp_events.php?type=ban&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' ban" src="/fp/events/ban.png" title="'+modname+' ban"></a>'+
						'<a href="/fp_events.php?type=unban&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' unban" src="/fp/events/unban.png" title="'+modname+' unban"></a>'+
						'<a href="/fp_events.php?type=ddt&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' ddt" src="/fp/events/ddt.png" title="'+modname+' ddt"></a>'+
						'<a href="/fp_events.php?type=rename&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' rename" src="/fp/events/rename.png" title="'+modname+' rename"></a>'+
						'<a href="/fp_events.php?type=delhard&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' delhard" src="/fp/events/delhard.png" title="'+modname+' delhard"></a>'+
						'<a href="/fp_events.php?type=delsoft&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' delsoft" src="/fp/events/delsoft.png" title="'+modname+' delsoft"></a>'+
						'<a href="/fp_events.php?type=pban&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' pban" src="/fp/events/pban.png" title="'+modname+' pban"></a>'+
						'<a href="/fp_events.php?type=capsfix&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' capsfix" src="/fp/events/capsfix.png" title="'+modname+' capsfix" ></a>'+
						'<a href="/fp_events.php?type=mov&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' mov" src="/fp/events/mov.png" title="'+modname+' mov"></a></div>';
						cooldiv.appendChild(cooldivA);
						mytargetnode.appendChild( cooldiv );
                    }
					if(FR_CFG.getBool('FO_RetiredMods')){
						for (var i = 0; i < FR_FUN.MODLIST.RETIRED.length; i++) {
							var moduid = FR_FUN.MODLIST.RETIRED[i][0];
							var modname = FR_FUN.MODLIST.RETIRED[i][1];
							
							var cooldiv = document.createElement('div');
							cooldiv.className = "modlistEntry retired";

							var cooldivA = document.createElement('div');
							cooldivA.className = "wrapper";
							cooldivA.innerHTML = '<div style=" width:110px; display:inline-block;"><a href="/members/'+moduid+'" style="font-size: 14px; font-weight: bold;">'+modname+'</a></div>' +
							'<div style="display:inline; text-align:right; float:right;">'+
							'<a href="/fp_events.php?user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' events" src="/fp/navbar/events.png" title="'+modname+' events"></a>'+
							'<a href="/fp_events.php?type=closed&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' closed" src="/fp/events/closed.png" title="'+modname+' closed"></a>'+
							'<a href="/fp_events.php?type=opened&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' opened" src="/fp/events/opened.png" title="'+modname+' opened"></a>'+
							'<a href="/fp_events.php?type=ban&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' ban" src="/fp/events/ban.png" title="'+modname+' ban"></a>'+
							'<a href="/fp_events.php?type=unban&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' unban" src="/fp/events/unban.png" title="'+modname+' unban"></a>'+
							'<a href="/fp_events.php?type=ddt&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' ddt" src="/fp/events/ddt.png" title="'+modname+' ddt"></a>'+
							'<a href="/fp_events.php?type=rename&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' rename" src="/fp/events/rename.png" title="'+modname+' rename"></a>'+
							'<a href="/fp_events.php?type=delhard&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' delhard" src="/fp/events/delhard.png" title="'+modname+' delhard"></a>'+
							'<a href="/fp_events.php?type=delsoft&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' delsoft" src="/fp/events/delsoft.png" title="'+modname+' delsoft"></a>'+
							'<a href="/fp_events.php?type=pban&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' pban" src="/fp/events/pban.png" title="'+modname+' pban"></a>'+
							'<a href="/fp_events.php?type=capsfix&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' capsfix" src="/fp/events/capsfix.png" title="'+modname+' capsfix" ></a>'+
							'<a href="/fp_events.php?type=mov&user='+moduid+'"><img width="16" height="16" border="0" alt="'+modname+' mov" src="/fp/events/mov.png" title="'+modname+' mov"></a></div>';
							cooldiv.appendChild(cooldivA);
							mytargetnode.appendChild( cooldiv );
						}
					}
                }*/

                //Goddamn xpath axis counting crap
                if ( FR_CFG.getBool('FO_Eventcntr') ) {
                    var memberURL = "member.php?u=";
                    
                    //events common to both types
                    var evtcnts = [
                        ["Regiban", "banr", "a[contains(@href,'=banr')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Spam Ban", "spmb", "a[contains(@href,'=spmb')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Regiban 2", "regi", "a[contains(@href,'=regi')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Instaban", "bani", "a[contains(@href,'=bani')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Birthday Unban", "bunban", "a[contains(@href,'=bunban')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Smartness Ban", "bansm", "a[contains(@href,'=bansm')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Join", "join", "a[contains(@href,'=join')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["NewForum", "nforum", "a[contains(@href,'=nforum')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Threads Obliterated", "delhard", "a[contains(@href,'=delhard')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                        ["Autolock", "toobig", "a[contains(@href,'=toobig')]/following-sibling::a[1][contains(@href,'t=')]", "", FR_FUN.randColor()]
                    ];
                    // if we are only looking at one member
                    if (!isNaN(FR_FUN.GLOBALS.EventLogMEM) && FR_FUN.GLOBALS.EventLogMEM !== 0) {
                        evtcnts.push(
                            ["Bans Given", "ban",  
                                "a[contains(@href,'=ban') and not(contains(@href,'=bani')) and not(contains(@href,'=banr')) and not(contains(@href,'=bansm'))]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Bans Recieved", "ban",  
                                "a[contains(@href,'=ban') and not(contains(@href,'=bani')) and not(contains(@href,'=banr')) and not(contains(@href,'=bansm'))]/following-sibling::a[3][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Permabans Given", "pban", 
                                "a[contains(@href,'=pban')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Permabans Recieved", "pban", 
                                "a[contains(@href,'=pban')]/following-sibling::a[3][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Unbans Given", "unban", 
                                "a[contains(@href,'=unban')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Unbans Recieved", "unban", 
                                "a[contains(@href,'=unban')]/following-sibling::a[3][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads Closed (by this user)", "closed", 
                                "a[contains(@href,'=closed')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads Closed", "closed", 
                                "a[contains(@href,'=closed')]/following-sibling::a[3][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads Opened (by this user)", "opened", 
                                "a[contains(@href,'=opened')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads Opened", "opened", 
                                "a[contains(@href,'=opened')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", 
                                "a[contains(@href,'=opened')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
								FR_FUN.randColor()],
                            ["Threads ddt\'d (by this user)", "ddt", 
                                "a[contains(@href,'=ddt')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads ddt\'d", "ddt", 
                                "a[contains(@href,'=ddt')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", 
                                "a[contains(@href,'=ddt')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
								FR_FUN.randColor()],
                            ["Threads Renamed (by this user)", "rename", 
                                "a[contains(@href,'=rename')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads Renamed", "rename", 
                                "a[contains(@href,'=rename')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", 
                                "a[contains(@href,'=rename')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
								FR_FUN.randColor()],
                            ["Threads Deleted (by this user)", "delsoft", 
                                "a[contains(@href,'=delsoft')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
                                "", FR_FUN.randColor()],
                            ["Threads Deleted", "delsoft", 
                                "a[contains(@href,'=delsoft')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", 
                                "a[contains(@href,'=delsoft')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
								FR_FUN.randColor()],
                            ["Threads CapsFixed (by this user)", "capsfix", 
                                "a[contains(@href,'=capsfix')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads CapsFixed", "capsfix", 
                                "a[contains(@href,'=capsfix')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", 
                                "a[contains(@href,'=capsfix')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
								FR_FUN.randColor()],
                            ["Threads Moved (by this user)", "mov", 
                                "a[contains(@href,'=mov')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Threads Moved", "mov", 
                                "a[contains(@href,'=mov')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", 
                                "a[contains(@href,'=mov')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]",
								FR_FUN.randColor()],
                            ["Titles bought (for this user)", "title", 
                                "a[contains(@href,'=title')]/following-sibling::a[3][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "", FR_FUN.randColor()],
                            ["Titles bought (for another user)", "title", 
                                "a[contains(@href,'=title')]/following-sibling::a[3][contains(@href,'"+memberURL+"') and not(contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"'))]", 
                                "", FR_FUN.randColor()],
                            ["Titles bought (for themself)", "title", 
                                "a[contains(@href,'=title')]/following-sibling::a[1][contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"')]", 
                                "a[contains(@href,'=title')]/following-sibling::a[3][contains(@href,'"+memberURL+"') and not(contains(@href,'"+memberURL+FR_FUN.GLOBALS.EventLogMEM+"'))]",
								FR_FUN.randColor()]
                        );
                    // otherwise we're looking at global eventlog
                    } else {
                        evtcnts.push(
                            ["Bans", "ban", "a[contains(@href,'=ban') and not(contains(@href,'=bani')) and not(contains(@href,'=banr')) and not(contains(@href,'=bansm'))]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Permabans", "pban", "a[contains(@href,'=pban')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Unbans", "unban", "a[contains(@href,'=unban')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads Closed", "closed", "a[contains(@href,'=closed')]/following-sibling::a[3][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads Opened", "opened", "a[contains(@href,'=opened')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads ddt\'d", "ddt", "a[contains(@href,'=ddt')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads Renamed", "rename", "a[contains(@href,'=rename')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads Deleted", "delsoft", "a[contains(@href,'=delsoft')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads CapsFixed", "capsfix", "a[contains(@href,'=capsfix')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Threads Moved", "mov", "a[contains(@href,'=mov')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Titles bought (for others)", "title",  "a[contains(@href,'=title')]/following-sibling::a[3][contains(@href,'"+memberURL+"')]", "", FR_FUN.randColor()],
                            ["Titles bought (for themselves)", "title", "a[contains(@href,'=title')]/following-sibling::a[1][contains(@href,'"+memberURL+"')]", "a[contains(@href,'=title')]/following-sibling::a[3][contains(@href,'"+memberURL+"')]", FR_FUN.randColor()]
                        );
                    }
                    
                    var cooldiv = document.createElement('div');
                    cooldiv.className = "eventTotals";
                    cooldiv.innerHTML = 'Totals on this page: <ul> </ul>';

                    var evttotal = 0;
                    for (var i = 0, currevtamount = 0; i < evtcnts.length; i++, currevtamount = 0) {
                        if ( !FR_FUN.isNumber(evtcnts[i][2]) && evtcnts[i][2] !== "" ){
                            evtcnts[i][2] = document.evaluate("count(.//" + evtcnts[i][2] + ")", document.body, null, XPathResult.NUMBER_TYPE, null).numberValue;
                        }
                        if ( !FR_FUN.isNumber(evtcnts[i][3]) && evtcnts[i][3] !== ""){
                            evtcnts[i][3] = document.evaluate("count(.//" + evtcnts[i][3] + ")", document.body, null, XPathResult.NUMBER_TYPE, null).numberValue;
                        }
                        
                        currevtamount = parseInt(evtcnts[i][2] - evtcnts[i][3], 10);
                        
                        if ( currevtamount > 0){
                            var addit = "";
                            /*if ( evtcnts[i][4] !== undefined){
                                addit = "($"+ currevtamount * evtcnts[i][4] +")";
                            }*/
                            evttotal = evttotal + currevtamount;

                            var piecolor = "";
                            if ( FR_CFG.getBool('FO_Eventpie')) {
                                piecolor = evtcnts[i][4];
                            }

                            var cooldivb = document.createElement('li');
                            cooldivb.style.display = "inline";
							cooldivb.style.borderBottom = "rgb("+piecolor + ") 4px solid";
							cooldivb.style.background = "rgba("+piecolor+",.3)";
                            cooldivb.innerHTML = '<a href="fp_events.php?type='+evtcnts[i][1]+'&user='+FR_FUN.GLOBALS.EventLogMEM+'"><img width="16" height="16" border="0" alt="'+evtcnts[i][1]+'" src="fp/events/'+evtcnts[i][1]+'.png" title="'+evtcnts[i][0]+'" style="padding-right: 4px;"></a>' +evtcnts[i][1]+ ' x '+currevtamount+' '+addit;
                            cooldiv.childNodes[1].appendChild( cooldivb );
                        }
                    }
                    /*for (var i = 0; i < evtcnts.length; i++) {
                        if ( evtcnts[i][2] > 0){
                            var addit = "";
                            if ( evtcnts[i][4] !== undefined){
                                addit = "($"+ evtcnts[i][2] * evtcnts[i][4] +")";
                            }
                            evttotal = evttotal + parseInt(evtcnts[i][2], 10);

                            var piecolor = "";
                            if ( FR_CFG.getBool('FO_Eventpie')) {
                                piecolor = 'style="background-color:'+evtcnts[i][3]+';"';
                            }

                            var cooldivb = document.createElement('div');
                            cooldivb.className = "event";
                            cooldivb.innerHTML = '<li '+piecolor+'><a href="fp_events.php?type='+evtcnts[i][1]+'&user='+FR_FUN.GLOBALS.EventLogMEM+'"><img width="16" height="16" border="0" alt="'+evtcnts[i][1]+'" src="fp/events/'+evtcnts[i][1]+'.png" title="'+evtcnts[i][1]+'" style="padding-right: 4px;"></a>'+evtcnts[i][0]+' : '+evtcnts[i][2]+' '+addit+'</li>';
                            cooldiv.childNodes[1].appendChild( cooldivb );
                        }
                    }*/

                    //plotting
                    if ( FR_CFG.getBool('FO_Eventpie') ) {
                        var newcanv = document.createElement('canvas');
                        newcanv.setAttribute("width", "800");
                        newcanv.setAttribute("height", "600");
                        cooldiv.appendChild( newcanv );

                        var lastend = 0;
                        var cuntext = newcanv.getContext("2d");
                        cuntext.clearRect(0, 0, newcanv.width, newcanv.height);
                        for (var i = 0; i < evtcnts.length; i++) {
                            if ( evtcnts[i][2] > 0){
                                cuntext.fillStyle = "rgb(" + evtcnts[i][4] + ")";
                                cuntext.beginPath();
                                cuntext.moveTo(newcanv.width/2,newcanv.height/2);
                                cuntext.arc(newcanv.width/2,newcanv.height/2,newcanv.height/2,lastend,lastend+(Math.PI*2*(evtcnts[i][2]/evttotal)),false);
                                cuntext.lineTo(newcanv.width/2,newcanv.height/2);
                                cuntext.fill();
                                lastend += Math.PI*2*(evtcnts[i][2]/evttotal);
                            }
                        }
                    }

                    eventlist.snapshotItem(0).parentNode.parentNode.parentNode.insertBefore( cooldiv, eventlist.snapshotItem(0).parentNode.parentNode.parentNode.firstChild.nextSibling );
                }

            }

            /*
                MEMBERLIST MODIFICATION

                TODO:
                    userid iteration, will be slow as fuck
                        can't show usernames either because FP won't give me a redirect url in response to a HEAD request
                        gaaaay
                    will use MOD lists to green mod names
            */
            if (FR_FUN.GLOBALS.MemberList){
                var theerror = document.evaluate("//div[@class='standard_error']", document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null).snapshotItem(0);
                if (theerror){
                    //var style = document.createElement('link');
                    //style.type = 'text/css';
                    //style.rel = "stylesheet";
                    //style.href = "http://cdn.fpcontent.net/clientscript/vbulletin_css/style00005l/memberinfo-rollup.css";
                    //document.getElementsByTagName('head')[0].appendChild(style);

                    var mytargetnode = theerror.parentNode;
                    mytargetnode.removeChild(theerror);

                    var cooldiv = document.createElement('div');
                    cooldiv.style.cssText = "border: 1px solid rgb(136, 136, 136); background-color: rgb(250, 250, 250);";
                    cooldiv.innerHTML = '<div style="margin-left: 20px; padding-right: 20px;"><div class="events">'+
                    '<div id="event_types">Enter three letters or more, then click DO IT<br />Be patient, it\'s slow as shit <br />Username:<input id="userfield" type="text" value="" tabindex="1" id="userfield_txt" name="searchuser" class="textbox popupctrl" autocomplete="off" >' +
                    '<div class="button" style="display: inline-block; float: none; cursor:pointer;" onClick="FR_FUN.findUser( document.getElementById(\'userfield\').value)">DO IT</div></div>' +
                    '<div id="memberlist"> </div>' +
                    '</div></div><br />';

                    mytargetnode.insertBefore(cooldiv, mytargetnode.childNodes[4]);

                    var cooldivb = document.createElement('div');
                    cooldivb.id = "memberlistb";
                    cooldivb.className = "member_content";

                    document.getElementById('content_pad').insertBefore(cooldivb, mytargetnode.childNodes[5]);
                }
            }


            /*
                SHOW THREAD MODIFICATION

                TODO:
                    AUTO filter score display will be a button that builds the menu dynamically, instead of this shitty and slow way
                    Same with the info searcher thingie
            */
            /*return display_post(27585590);
            POST http://www.facepunch.com/showpost.php?p=27585590&ajax=1&postid=27585590&securitytoken=DICKS

            newreply crap <postbits>
              <postbit postid="27621573">
            quickrply
            clickedelm = this.value
            qr_submit*/

            if (FR_FUN.GLOBALS.ShowThread){
                var PostTable = FR_FUN.buildPostTable();
                for (var x=0; x<PostTable.length; x++) {
                    var myprick = document.getElementById(PostTable[x].ElementID);
                    var newurl;
                    var userAvatar = myprick.childNodes[5].childNodes[1].childNodes[5].childNodes[1].childNodes[1];
                    if(userAvatar !== undefined) {userAvatar.className += " userAvatar";}
                    
                    if ( FR_CFG.getBool('FO_AwesomePanel') ){
                        //panel creator
                        var awesomepanel = document.createElement('div');
                        awesomepanel.className = "posthead";
                        myprick.childNodes[5].childNodes[1].insertBefore(awesomepanel,  myprick.childNodes[5].childNodes[1].lastChild);
                        //myprick.childNodes[5].childNodes[1].appendChild(awesomepanel);
                        awesomepanel.style.cssText = "border-width: 1px ! important; -moz-border-radius: 3px 3px 3px 3px; margin-top: 2px; display: -moz-grid-group; text-align: center;";
                        //autohidepost
                        newurl = document.createElement('a');
                        newurl.style.cursor = "pointer";
                        newurl.setAttribute("onclick", "FR_FUN.togglePoast(\'"+PostTable[x].ElementID+"\' )");
                        newurl.innerHTML = "<img style='padding-left: 4px; float: left;' src=\""+FR_CFG.ICONS["silk_eye"]+"\" title='Hide this post'>";
                        myprick.childNodes[3].insertBefore(newurl, myprick.childNodes[3].firstChild);
                        //PM
                        newurl = document.createElement('a');
                        newurl.href = "/private.php?do=newpm&u="+PostTable[x].UserID;
                        newurl.innerHTML = "<img style='padding-right: 2px;' src=\""+FR_CFG.ICONS["silk_book"]+"\" title='Send PM to "+PostTable[x].UserName+"'>";
                        awesomepanel.appendChild(newurl);
                        //Buddylist
                        newurl = document.createElement('a');
                        newurl.href = "/profile.php?do=addlist&userlist=friend&u="+PostTable[x].UserID;
                        newurl.innerHTML = "<img style='padding-right: 2px;' src=\""+FR_CFG.ICONS["silk_add"]+"\" title='Add "+PostTable[x].UserName+" to buddylist'>";
                        awesomepanel.appendChild(newurl);
                        //Ignorelist
                        newurl = document.createElement('a');
                        newurl.href = "/profile.php?do=addlist&userlist=ignore&u="+PostTable[x].UserID;
                        newurl.innerHTML = "<img style='padding-right: 2px;' src=\""+FR_CFG.ICONS["silk_delete"]+"\" title='Ignore "+PostTable[x].UserName+"'>";
                        awesomepanel.appendChild(newurl);

                        //blacklist
                        newurl = document.createElement('a');
                        newurl.href = 'javascript:FR_CFG.listManage(\"FO_blacklist\",\"'+PostTable[x].UserName+'\");';
                        newurl.innerHTML = "<img style='padding-right: 2px;' src=\""+FR_CFG.ICONS["silk_heart_broken"]+"\" title='Blacklist "+PostTable[x].UserNameE+"'>";
                        awesomepanel.appendChild(newurl);
                        //whitelist
                        newurl = document.createElement('a');
                        newurl.href = 'javascript:FR_CFG.listManage(\"FO_whitelist\",\"'+PostTable[x].UserName+'\");';
                        newurl.innerHTML = "<img style='padding-right: 2px;' src=\""+FR_CFG.ICONS["silk_cake"]+"\" title='Whitelist "+PostTable[x].UserNameE+"'>";
                        awesomepanel.appendChild(newurl);

                        //Post/event history
                        newurl = document.createElement('a');
                        newurl.style.cursor = "pointer";
                        newurl.setAttribute("onclick", "FR_FUN.showUserHistory(\'"+PostTable[x].UserID+"\',\'"+PostTable[x].UserName+"\', "+FR_FUN.GLOBALS.SubforumID+", \'"+FR_FUN.GLOBALS.SubforumName+"\', \'"+FR_FUN.GLOBALS.ShowThreadID+"\')");
                        newurl.innerHTML = "<img style='padding-right: 2px;' src=\""+FR_CFG.ICONS["silk_world"]+"\" title='View history of "+PostTable[x].UserName+"'>";
                        awesomepanel.appendChild(newurl);
                    }

                    if ( (PostTable[x].BannedMember) && (FR_CFG.getBool('FO_BanAvatar') ) ){
                        if(FR_CFG.getBool('FO_BanAvatarReplace')){
                            userAvatar.src = FR_CFG.ICONS['avatar_ban'];
                            userAvatar.className += " banAvatar";
                        }
                        if(FR_CFG.getBool('FO_BanAvatar')){
                            //var originalAvatar = document.createElement('img');
                            //originalAvatar.src = "/image.php?u="+PostTable[x].UserID;
                            //originalAvatar.className += "userAvatar originalAvatar";
                            //userAvatar.parentElement.appendChild(originalAvatar);
                            userAvatar.setAttribute("onmouseover", "this.src = '/image.php?u="+PostTable[x].UserID+"'");
                            userAvatar.setAttribute("onmouseout", "this.src = '"+userAvatar.src+"'");
                        }
                    }

                    //BEGIN DEBUG
                    if (FR_CFG.getBool('FO_PostStats') && (FR_CFG.getBool('FO_ScoreIgnoreOP') == false || !PostTable[x].IsOP)){
                        var postscore = FR_FUN.buildScoreTable(PostTable[x]);
                        if (FR_CFG.getBool('FD_PostStats') ){
                            PostTable[x].AddPostMeta("ucpex_"+PostTable[x].ElementID, FR_CFG.ICONS["silk_bug"]);
                            var crapmenu = document.createElement('div');
                            crapmenu.className = "top popupbox eventlog";
                            crapmenu.style.display = 'none';
                            crapmenu.style.width = "900px";
                            crapmenu.style.zIndex = "3";
                            crapmenu.id = "ucpex_"+PostTable[x].ElementID;
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>ElementID: "+PostTable[x].ElementID+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>PostID: "+PostTable[x].PostID+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>UserName: "+PostTable[x].UserNameE+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>UserID: "+PostTable[x].UserID+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.UserPostCnt)+"'>PostCount: "+PostTable[x].UserPostCnt+" ("+postscore.UserPostCnt+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>JoinDate: "+PostTable[x].JoinDate+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>JoinMonth: "+PostTable[x].JoinMonth+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button'>JoinYear: "+PostTable[x].JoinYear+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.MonthCount)+"'>MonthCount: "+PostTable[x].MonthCount+" ("+postscore.MonthCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.BlueMember)+"'>Blue Member: "+PostTable[x].BlueMember+" ("+postscore.BlueMember+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.BlueMember)+"'>Moderator: "+PostTable[x].Moderator+" ("+postscore.Moderator+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.GoldMember)+"'>GoldMember: "+PostTable[x].GoldMember+" ("+postscore.GoldMember+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.BannedMember)+"'>BannedMember: "+PostTable[x].BannedMember+" ("+postscore.BannedMember+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.DefaultAva)+"'>DefaultAvatar: "+PostTable[x].DefaultAva+" ("+postscore.DefaultAva+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.IsOP)+"'>Is OP of Thread: "+PostTable[x].IsOP+" ("+postscore.IsOP+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.ImageCount)+"'>ImageCount: "+PostTable[x].ImageCount+" ("+postscore.ImageCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.EmoteCount)+"'>EmoteCount: "+PostTable[x].EmoteCount+" ("+postscore.EmoteCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.QuoteCount)+"'>QuoteCount: "+PostTable[x].QuoteCount+" ("+postscore.QuoteCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.MediaCount)+"'>MediaCount: "+PostTable[x].MediaCount+" ("+postscore.MediaCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.LinkCount)+"'>LinkCount: "+PostTable[x].LinkCount+" ("+postscore.LinkCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.LineCount)+"'>LineCount: "+PostTable[x].LineCount+" ("+postscore.LineCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button '>PostHeight: "+PostTable[x].PostHeight+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.BBCodeCount)+"'>BBCodeCount: "+PostTable[x].BBCodeCount+" ("+postscore.BBCodeCount+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.YourPost)+"'>YourPost: "+PostTable[x].YourPost+" ("+postscore.YourPost+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.NewPost)+"'>NewPost: "+PostTable[x].NewPost+" ("+postscore.NewPost+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button '>CanReply: "+PostTable[x].CanReply+"</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.HasRatings)+"'>PostRated: "+PostTable[x].HasRatings+" ("+postscore.HasRatings+")</div>";
                            
							if (PostTable[x].Ratings) {
								PostTable[x].Ratings.forEach(function(rating) {
									crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button " + FR_FUN.calcPolarity(postscore["Rating" + rating.Name]) + "'>Rated " + rating.Name + ": " + rating.Count + " (" + postscore["Rating" + rating.Name] + ")</div>";
								})
							}
							
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.Blacklisted)+"'>Blacklisted: "+PostTable[x].Blacklisted+" ("+postscore.Blacklisted+")</div>";
                            crapmenu.innerHTML += "<div style='display: inline-block; float: none;' class='button "+FR_FUN.calcPolarity(postscore.Whitelisted)+"'>Whitelisted: "+PostTable[x].Whitelisted+" ("+postscore.Whitelisted+")</div>";
                            myprick.childNodes[7].childNodes[5].appendChild(crapmenu);
                        }
                        
                        if ( FR_CFG.getBool('FO_PostScore') ){
                            var dascore = document.createElement('div');
                            dascore.className = FR_FUN.calcPolarity(postscore.TotalScore) + " postscore";
							dascore.title = "Post Score";
                            dascore.innerHTML = Math.floor(postscore.TotalScore);
                            document.getElementById("post_message_"+PostTable[x].PostID).parentNode.parentNode.insertBefore(dascore, document.getElementById("post_message_"+PostTable[x].PostID).parentNode.parentNode.firstChild );
                        }

                        if ( postscore.TotalScore < 0){
                            if ( FR_CFG.getBool('FO_SuperHidden')){
                                myprick.style.display = 'none';
                            } else{
                                if ( FR_CFG.getBool('FO_AutoHidePosts')){
                                    var hidewarning = "Where "+ PostTable[x].UserNameE +"'s terrible post used to be. Click to laugh at how he scored a " + Math.floor(postscore.TotalScore);
                                    FR_FUN.togglePoast( PostTable[x].ElementID, hidewarning );
                                }
                            }
                        }

                    }
                    //END DEBUG
                }

                /*if (FR_CFG.getBool('FO_AutoClose')){
                    var bloop = document.getElementById("quick_reply");
                    if (bloop){
                        bloop.setAttribute("onsubmit", "FR_autoClose(); return qr_prepare_submit(this, 1);");
                    }
                }*/

                if(FR_CFG.getBool('FO_OnlineAva')){
                    if (document.getElementById( 'bottom_box' ) !== null) {
                        document.getElementById( 'bottom_box' ).setAttribute("onmousemove", "FR_FUN.avatarTool(event)");
                        document.getElementById( 'bottom_box' ).setAttribute("onmouseout", "document.getElementById('FR_floatyimg').style.display = 'none';");
                    }
                }
                
                /* useful shrinker/unshrinker for shrunk images */
                /*if(FR_CFG.getBool('FO_ShrinkLargeImage')){
                    var imagesss = document.evaluate('.//*[contains(concat(" ", normalize-space(@class), " "), " postcontent ")]//img[not(@class="inlineimg")]', document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                    for (var i = 0; i < imagesss.snapshotLength; i++) {
                        var ourimage = imagesss.snapshotItem(i);
                        if(ourimage.naturalWidth > ourimage.clientWidth){
                           ourimage.style = "border-left: 5px dashed #66FF88;";
                           ourimage.title = "Middle-click this tia";
                        }
                        
                        var ourResizer = document.createElement("span");
                        ourResizer.innerHTML = "+";
                        ourResizer.style = "padding:5px; vertical-align:top; background:#99FFBB; color:#FFF; font-weight:bold; display:inline";
                        ourResizer.setAttribute("onclick", "FR_FUN.toggleImageSize(event, 'shrinker"+i+"'); return false;");
                        
                        var ourParent = ourimage.parentNode;
                        ourParent.insertBefore(ourResizer, ourimage);
                    }
                 }*/
            }

            if (FR_FUN.GLOBALS.MemberPage){
                if(FR_CFG.getBool('FO_HistProf')){
					//remove view images posted link under avatar
					var usermenu = document.getElementById( 'usermenu' );
					usermenu.removeChild(usermenu.lastChild.previousSibling);

                    var tabref = document.getElementById( 'aboutme-tab' ).parentNode.parentNode;
                    if (tabref){
                        tabref.innerHTML += '<dd><a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'\'); return tabViewPicker(this);" href="/members/'+FR_FUN.GLOBALS.MemberID+'#event-content" id="event-tab">Events</a></dd>';
                        tabref.innerHTML += '<dd><a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 2, \'\'); return tabViewPicker(this);" href="/members/'+FR_FUN.GLOBALS.MemberID+'#sthread-content" id="sthread-tab">Threads</a></dd>';
                        tabref.innerHTML += '<dd><a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 3, \'\'); return tabViewPicker(this);" href="/members/'+FR_FUN.GLOBALS.MemberID+'#spost-content" id="spost-tab">Posts</a></dd>';
                        tabref.innerHTML += '<dd><a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 4, \'\'); return tabViewPicker(this);" href="/members/'+FR_FUN.GLOBALS.MemberID+'#simg-content" id="simg-tab">Images</a></dd>';
                    }


                    var cntref = document.getElementById( 'view-aboutme' ).parentNode;

                    if (cntref){
                        cntref.innerHTML += '<div class="view_section" id="view-event-content">'+
                        '<div id="event_types" style="text-align: center;">' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'\' );" href="javascript:;"><img width="16" height="16" border="0" alt="all" src="/fp/navbar/events.png" title="all"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'closed\' );" href="javascript:;"><img width="16" height="16" border="0" alt="closed" src="/fp/events/closed.png" title="closed"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'opened\' );" href="javascript:;"><img width="16" height="16" border="0" alt="opened" src="/fp/events/opened.png" title="opened"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'ban\' );" href="javascript:;"><img width="16" height="16" border="0" alt="ban" src="/fp/events/ban.png" title="ban"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'unban\' );" href="javascript:;"><img width="16" height="16" border="0" alt="unban" src="/fp/events/unban.png" title="unban"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'ddt\' );" href="javascript:;"><img width="16" height="16" border="0" alt="ddt" src="/fp/events/ddt.png" title="ddt"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'rename\' );" href="javascript:;"><img width="16" height="16" border="0" alt="rename" src="/fp/events/rename.png" title="rename"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'delhard\' );" href="javascript:;"><img width="16" height="16" border="0" alt="delhard" src="/fp/events/delhard.png" title="delhard"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'delsoft\' );" href="javascript:;"><img width="16" height="16" border="0" alt="delsoft" src="/fp/events/delsoft.png" title="delsoft"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'join\' );" href="javascript:;"><img width="16" height="16" border="0" alt="join" src="/fp/events/join.png" title="join"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'pban\' );" href="javascript:;"><img width="16" height="16" border="0" alt="pban" src="/fp/events/pban.png" title="pban"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'capsfix\' );" href="javascript:;"><img width="16" height="16" border="0" alt="capsfix" src="/fp/events/capsfix.png" title="capsfix"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'mov\' );" href="javascript:;"><img width="16" height="16" border="0" alt="mov" src="/fp/events/mov.png" title="mov"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'toobig\' );" href="javascript:;"><img width="16" height="16" border="0" alt="toobig" src="/fp/events/toobig.png" title="toobig"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'title\' );" href="javascript:;"><img width="16" height="16" border="0" alt="title" src="/fp/events/title.png" title="title"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'nforum\' );" href="javascript:;"><img width="16" height="16" border="0" title="nforum" src="/fp/events/nforum.png" alt="nforum"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'banr\' );" href="javascript:;"><img width="16" height="16" border="0" title="banr" src="/fp/events/banr.png" alt="banr"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'bani\' );" href="javascript:;"><img width="16" height="16" border="0" title="bani" src="/fp/events/bani.png" alt="bani"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'bunban\' );" href="javascript:;"><img width="16" height="16" border="0" title="bunban" src="/fp/events/bunban.png" alt="bunban"></a> ' +
                        '<a onclick="FR_FUN.eventProf('+FR_FUN.GLOBALS.MemberID+', 1, \'bansm\' );" href="javascript:;"><img width="16" height="16" border="0" title="bansm" src="/fp/events/bansm.png" alt="bansm"></a> ' +
                        '</div>' +
                        '<div id="view-event-inner">WAITING...</div></div>';

                        cntref.innerHTML += '<div class="view_section" id="view-sthread-content">WAITING...</div>';
                        cntref.innerHTML += '<div class="view_section" id="view-spost-content">WAITING...</div>';
                        cntref.innerHTML += '<div class="view_section" id="view-simg-content">WAITING...</div>';
                    }
                }
            }
            
            /* MODERATOR LIST */
            if(FR_FUN.GLOBALS.ShowGroups){
                if(FR_CFG.getBool('FO_FixShowGroups')){
                    var pagec = document.getElementById( 'groups_2' ).parentNode;

                    //clear page
                    pagec.innerHTML = "";

                    var pagecontain = document.createElement("div");

                    //admins
                    pagecontain.appendChild(FR_FUN.makeAdminList(FR_FUN.MODLIST.ADMINS, "Administrators"));

                    //mods
                    pagecontain.appendChild(FR_FUN.makeAdminList(FR_FUN.MODLIST.CURRENT, "Moderators", true));
                    
                    if(FR_CFG.getBool('FO_ShowGroupsRetired')){
                      pagecontain.appendChild(FR_FUN.makeAdminList(FR_FUN.MODLIST.RETIRED, "Retired Old Farts"));
                    }
                        
                    pagec.appendChild(pagecontain);
                }
            }
        },
   };
}

var FR_CFG = new FR_CFG_CREATE();
var FR_FUN = new FR_FUN_CREATE();

/*
    PAGE JS
*/
var cooljs = ''+
FR_CFG_CREATE.toString()+
FR_FUN_CREATE.toString()+
'var FR_CFG = new FR_CFG_CREATE();'+
'var FR_FUN = new FR_FUN_CREATE();'+
'FR_FUN.init();'+
'FR_FUN.initLate();';

function populateCSS () {            
    //HACK: need to redesign settings to easily grab only what we want
    var morphcss = "";
    for (var prop in FR_CFG.SETTINGS) {
        //if we're a style setting
        if(prop.toString().indexOf("FS_") !== -1){
            morphcss += "" + FR_CFG.SETTINGS[prop][3] + " { " + FR_CFG.getString(prop) + " ;}\n";
        }
    }

    //fix facepunch's CSS because it's shit
    //but only if they didn't turn it off
    if (FR_CFG.getBool('FO_CSSFIX')){
        morphcss += 
'input, textarea, select, button { padding:4px; }\
.above_body { background-position: bottom left !important; background-repeat: repeat-x; }\
#view-aboutme a.floatright{	float:right; margin:5px 5px 10px 5px; }\
div.postpreview{ padding:10px !important; border: 1px solid #888; border-width: 0px 1px; background:#EEE !important; }\
blockquote.postcontent span[onclick] { margin-left: -.55em !important; margin-right: -.55em !important; }\
blockquote.postcontent{ overflow:hidden !important;	padding:0 !important; }\
ol#posts .postbitlegacy .postdetails .postbody .postrow, ol#announcements .postbitlegacy .postdetails .postbody .postrow, div#showpm > ol .postbitlegacy .postdetails .postbody .postrow, ol#message_list .postbitlegacy .postdetails .postbody .postrow, ol#posts .postbit .postdetails .postbody .postrow, ol#announcements .postbit .postdetails .postbody .postrow, div#showpm > ol .postbit .postdetails .postbody .postrow, ol#message_list .postbit .postdetails .postbody .postrow, ol#posts .postbitdeleted .postdetails .postbody .postrow, ol#announcements .postbitdeleted .postdetails .postbody .postrow, div#showpm > ol .postbitdeleted .postdetails .postbody .postrow, ol#message_list .postbitdeleted .postdetails .postbody .postrow{ padding:13px 10px !important; }\
.quote{ max-width: 100% !important; width:auto; }\
.quote .message{ left:0; right:0; }\
.cms_table table[width]{\
width:inherit;\
max-width:100%;\
}\
.bbcode_container div.bbcode_code, .bbcode_container pre.bbcode_code, .syntaxhighlighter .line {\
white-space: pre-wrap !important;\
word-wrap: break-word !important;\
}\
.member_summary{\
background:#e8e8e8 !important;\
border:1px solid #888;\
}\
dl.tabslight{\
height:auto;\
overflow:hidden;\
padding-left:10px;\
z-index: 1 !important;\
border-bottom: 0 !important;\
}\
dl.tabslight dd.selected{\
border-bottom: 1px solid rgb(238, 238, 238);\
}\
.profile_content{\
margin-top: -1px !important;\
z-index: 0 !important;\
border-width: 1px !important;\
}\
.blockbody{\
background: rgb(238, 238, 238) !important;\
}\
.member_content .blockbody{\
background: transparent !important;\
}\
.member_content .blockrow {\
background: transparent !important;\
}\
.floatcontainer, .formcontrols .blockrow, dl.stats {\
height:auto !important;\
overflow:hidden;\
}\
.profile_content .subsectionhead-understate {\
top: 0 !important;\
background-color: transparent !important;\
padding: 0 !important;\
color: #fff !important;\
text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3) !important;\
font: bolder 11pt Arial,Tahoma,Calibri,Verdana,Geneva,sans-serif !important;\
}\
.profile_content div.subsectionhead{\
overflow: hidden !important;\
height: auto !important;\
padding: 10px 50px 10px 15px !important;\
background: rgb(40, 144, 226) !important;\
border: 1px rgb(136, 136, 136) !important;\
}\
#view_my_conversation_link{\
color: #fff !important;\
font: bold 8pt Arial,Tahoma,Calibri,Verdana,Geneva,sans-serif !important;\
}\
.profile_content .subsectionhead, #postlist .subsectionhead {\
padding-left: 10px !important;\
}\
#view_my_conversation_link:hover{\
text-decoration: underline !important;\
}\
.profile_content .subsection {\
padding:0 !important;\
border: 0 !important;\
}\
#view-stats_mini .userprof_content{\
padding: 0px 15px !important;\
}\
.userprof_content dl{\
margin-bottom: 10px !important;\
margin-top: 7px !important;\
}\
.member_summary dl dt, .profile_content dl dt{\
padding: 3px 5px !important;\
padding-left: 12px !important;\
background: #efefef !important;\
}\
.member_summary dl dd, .profile_content dl dd{\
padding: 3px 5px !important;\
padding-left: 25px !important;\
margin-top: 0px !important;\
background: #fefefe !important;\
}\
.member_summary .blockrow, .profile_content .blockrow{\
padding: 0 !important;\
}\
.userprof_content dl.stats dt, .userprof_content dl.stats dd{\
display: block !important;\
float: none !important;\
clear: none !important;\
width: auto !important;\
}\
.profile_content .actionbuttons {\
margin-top: 5px !important;\
}\
.profile_content #view-aboutme #view-contactinfo, .profile_content #view-aboutme #view-stats{\
margin: 25px 0px !important;\
}\
#view-stats .subsection, #view-contactinfo .subsection, #view-aboutme .blockbody{\
margin: 15px 15px !important;\
}\
.bbcode_release_disabled{\
margin: 5px 50px !important;\
padding: 16px !important;\
border:1px solid #FCFAF2;\
background: -webkit-linear-gradient(top, #F9F7ED, #E9E7DD);\
background: -moz-linear-gradient(top, #F9F7ED, #E9E7DD);\
color: #36393D;\
box-shadow: 2px 1px 8px #AAA !important;\
border-radius: 8px;\
display: table;\
}\
div.bbcode_release_disabled h2{\
margin-top:0;\
padding-top:0;\
font-size:34px;\
letter-spacing:-3px;\
color:#555;\
text-shadow:0px 0px 4px rgba( 255, 255, 255, 1 ) !important;\
}\
ol#posts .postbitlegacy .postdetails .userinfo .username_container, ol#announcements .postbitlegacy .postdetails .userinfo .username_container, div#showpm > ol .postbitlegacy .postdetails .userinfo .username_container, ol#message_list .postbitlegacy .postdetails .userinfo .username_container, ol#posts .postbit .postdetails .userinfo .username_container, ol#announcements .postbit .postdetails .userinfo .username_container, div#showpm > ol .postbit .postdetails .userinfo .username_container, ol#message_list .postbit .postdetails .userinfo .username_container, ol#posts .postbitdeleted .postdetails .userinfo .username_container, ol#announcements .postbitdeleted .postdetails .userinfo .username_container, div#showpm > ol .postbitdeleted .postdetails .userinfo .username_container, ol#message_list .postbitdeleted .postdetails .userinfo .username_container {\
margin-bottom: 3px !important;\
}\
#bottom_box{\
clear:both !important;\
}\
body .ratingslist .ratingsbox{\
padding: 5px 0 0 0 !important;\
}\
body .ratingslist .ratingsbox span{\
margin: 0 5px !important;\
}\
body .ratingslist .ratingsbox * span{\
margin: 0 !important; \
}\
body .ratingslist .ratingsbox ul{\
margin-bottom:3px !important;\
}\
body .ratingslist .ratingsbox ul li{\
height: auto !important;\
overflow: hidden !important;\
margin: 0 !important;\
padding: 2px 4px !important;\
}\
body .ratingslist .ratingsbox ul li:nth-child(even){\
background: rgb(243, 243, 210) !important;\
}\
body .ratingslist .ratingsbox ul li a{\
white-space: pre-line !important;\
margin-right: 15px !important;\
}\
profile_content #above_postlist, #above_postlist {\
\
\
}\
.userprof .userprof_title{\
margin-bottom: 5px !important;\
}\
div#above_threadlist div#threadpagenav, div#below_threadlist div#threadpagenav, div#above_postlist div#pagination_top, div#below_postlist div#pagination_bottom, div#above_postlist, div#pagination_top, div#below_postlist div#pagination_bottom, div#below_searchresults{ \
top: 0px !important;\
height: auto !important;\
}\
#above_postlist, #pagination_top, #below_postlist, #pagination_bottom, #above_threadlist, #below_threadlist{\
margin: 0px !important;\
top: 0px !important;\
left: 0px !important;\
bottom: 0px !important;\
}\
#above_postlist .vm_paginationtop{\
margin-right: 10px !important;\
margin-top: 10px !important;\
}\
#above_postlist, #below_postlist{\
margin-top: 5px !important;\
}\
#above_threadlist .threadpagenav, #below_threadlist .threadpagenav{\
margin: 0px !important;\
}\
#below_threadlist, #below_postlist{\
margin-bottom: 10px !important;\
}\
#above_threadlist{\
margin-bottom: 5px !important;\
}  \
.pagination{\
border: 1px solid rgb(102, 102, 102);\
margin: 0px !important;\
}\
.pagination span{\
overflow:hidden;\
height:auto;\
padding: 4px 5px !important;\
background: #fff;\
}\
.pagination span a{\
overflow:hidden;\
height:auto;\
border: 0 !important;\
background: transparent !important;\
padding: 0px !important;\
}\
.pagination span, .pagination span.first_last{\
border-right: 1px solid #d9d9d9;\
}\
.pagination span:last-of-type{\
border-right: 0px;\
}\
.pagination span:first-of-type{\
background: rgb(40, 144, 226) !important;\
border-right: 1px solid rgb(102, 102, 102) !important;\
padding: 4px 7px !important;\
}\
.pagination span.selected{\
background: rgb(245, 245, 245);\
}\
.pagination span.popupspan a.popupctrl img {\
display:none;\
}\
.forumbit_post .forumlastpost .lastposttitle a, .forumbit_post .forumlastpost .lastpostby a {\
line-height: 1.2 !important;\
}\
#navbar-login {\
margin-right: 1% !important;\
margin-top: 10px !important;\
padding: 0 !important;\
}\
\
#navbarlinks .navbarlink:first-child{\
margin-right: 0 !important;\
}\
#navbarlinks{\
margin-right: 1% !important;\
}\
blockhead {\
background: rgb(40, 144, 226) !important; \
border: 1px solid rgb(102, 102, 102) !important;\
}\
.newcontent_textcontrol:hover{\
background: rgb(50, 154, 236) !important;\
}\
div#footer {\
background: rgb(40, 144, 226) !important;\
border-top: 2px solid rgb(70, 174, 256) !important;\
}\
/* rating position fix for guests...kinda */\
.postcontainer .postfoot .postlinking:after{\
content: ".";\
visibility:hidden;\
}\
/* ignored users on profile fix */\
#view-visitor_messaging ol#message_list .ignored {\
background: rgb(204, 204, 204);\
border: 1px solid rgb(119, 119, 119);\
margin-bottom: 10px;\
padding: 0px;\
}\
#view-visitor_messaging ol#message_list .ignored .userprof_vmleft {\
display:none !important;\
}\
#view-visitor_messaging ol#message_list .ignored .userprof_vmright { \
margin:5px !important;\
overflow:hidden !important;\
}\
#view-visitor_messaging ol#message_list .ignored .userprof_vmright .restore { \
overflow:hidden !important;\
}\
#view-visitor_messaging ol#message_list .ignored .userprof_vmright .postbit-right {\
float:right;\
margin:5px;\
font-size: 80%;\
}\
video{\
max-width:95%;\
}';
    }

    if (FR_CFG.getBool('FO_TitleFix')){
        morphcss += 
            '.usertitle * font[size], .usertitle font[size], .usertitle * font[size="7"], .usertitle font[size="7"]{font-size:160% !important;}\
.usertitle * font[size="6"], .usertitle font[size="6"]{font-size:140% !important;}\
.usertitle * font[size="5"], .usertitle font[size="5"]{font-size:130% !important;}\
.usertitle * font[size="4"], .usertitle font[size="4"]{font-size:120% !important;}\
.usertitle * font[size="3"], .usertitle font[size="3"]{font-size:100% !important;}\
.usertitle * font[size="2"], .usertitle font[size="2"]{font-size:90% !important;}\
.usertitle * font[size="1"], .usertitle font[size="1"]{font-size:80% !important;}';
    }
    
    if(FR_CFG.getBool('FO_ShrinkLargeImage')){ //div.quote div.message img
        morphcss +=
          '.postbit .content img, .postbitlegacy .content img, .postbitdeleted .content img, .postbitignored .content img, .eventbit .content img { max-width: 100% !important; max-height: 1024px !important; }\
          .postbit .content img[class~="thumbnail"], .postbitlegacy .content img[class~="thumbnail"], .postbitdeleted .content img[class~="thumbnail"], .postbitignored .content img[class~="thumbnail"], .eventbit .content img[class~="thumbnail"], div.quote div.message img { max-width: 800px !important; max-height: 350px !important; }\
          ';
    } 
    else{ //someone has bad taste tbh
        morphcss +=
          'blockquote.postcontent { overflow:auto !important; }';
    }

    if(FR_CFG.getBool('FO_WebmEnhance')){

    }

    //now we actually add our CSS to the page
    if (document.getElementById("FR_CSS") !== null){
        document.getElementById("FR_CSS").innerHTML = morphcss;
    } else {
        var head = document.getElementsByTagName('body')[0];
        if (!head) { return; }
        var style = document.createElement('style');
        style.type = 'text/css';
        style.id = "FR_CSS";
        style.innerHTML = morphcss;
        head.appendChild(style);
    }
}

populateCSS();
FR_FUN.addJS(cooljs);
FR_FUN.buildMenus();
